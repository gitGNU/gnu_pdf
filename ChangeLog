2008-09-10  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-time.c (pdf_time_dup): Likewise.

	* src/base/pdf-time-string.c (pdf_time_get_century_in_sliding_window): Likewise.

	* doc/gnupdf.texi (Time Creation and Destruction): Likewise.

	* src/base/pdf-time.c (pdf_time_new): Likewise.

	* src/base/pdf-time.h: Changed to follow the ADT conventions.

	* doc/gnupdf-hg.texi (Spaces vs. Tabs): New section.
	(Third-party m4 macros): New section.

	* m4/libgcrypt.m4: Added from the libgcrypt distribution.

2008-09-09  David Vazquez  <davazp@gmail.com>

	* src/base/pdf-crypt.h (pdf_crypt_md_new): New function.
	(pdf_crypt_md_hash): New function.
	(pdf_crypt_md_destroy): New function.

	* doc/gnupdf-tsd.texi (Crypt Module): New section.

2008-09-09  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf-hg.texi (Generating a Bazaar Merge Directive): New
	section.

	* src/base/pdf-text-context.c: New static variable
	'text_context_initialized'.

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_win32_device_p): The
	text object 'device_name' was being initialized twice.
	Make 'pdf_text_new' to conform to the
	coding conventions.

	* src/base/pdf-text-context.c (pdf_text_context_initialize): New
	function.

	* src/base/pdf-error.c: Error message for PDF_EBADCONTEXT.

	* src/base/pdf-error.h (enum pdf_status_e): PDF_EBADCONTEXT added.

	* src/base/pdf-text.c (pdf_text_new): Check for a valid global
	context.

	* src/base/pdf-text.h: Make 'pdf_text_new' to conform to the
	coding conventions.

	* torture/unit/base/text/pdf-text-set-unicode.c: Likewise.

	* torture/unit/base/text/pdf-text-set-pdfdocenc.c: Likewise.

	* torture/unit/base/text/pdf-text-set-language.c: Likewise.

	* torture/unit/base/text/pdf-text-set-host.c: Likewise.

	* torture/unit/base/text/pdf-text-set-country.c: Likewise.

	* torture/unit/base/text/pdf-text-replace.c: Likewise.

	* torture/unit/base/text/pdf-text-replace-ascii.c: Likewise.

	* torture/unit/base/text/pdf-text-new-from-unicode.c: Likewise.

	* torture/unit/base/text/pdf-text-new-from-u32.c: Likewise.

	* torture/unit/base/text/pdf-text-new-from-pdf-string.c: Likewise.

	* torture/unit/base/text/pdf-text-new-from-host.c: Likewise.

	* torture/unit/base/text/pdf-text-new-destroy.c: Likewise.

	* torture/unit/base/text/pdf-text-get-unicode.c: Likewise.

	* torture/unit/base/text/pdf-text-get-pdfdocenc.c: Likewise.

	* torture/unit/base/text/pdf-text-get-language.c: Likewise.

	* torture/unit/base/text/pdf-text-get-host.c: Likewise.

	* torture/unit/base/text/pdf-text-get-hex.c: Likewise.

	* torture/unit/base/text/pdf-text-get-country.c: Likewise.

	* torture/unit/base/text/pdf-text-get-best-encoding.c: Likewise.

	* torture/unit/base/text/pdf-text-filter.c: Likewise.

	* torture/unit/base/text/pdf-text-empty-p.c: Likewise.

	* torture/unit/base/text/pdf-text-dup.c: Likewise.

	* torture/unit/base/text/pdf-text-concat.c: Likewise.

	* torture/unit/base/text/pdf-text-cmp.c: Likewise.

	* doc/gnupdf.texi (Creating and Destroying Text): Likewise.

	* torture/unit/Makefile.am: Likewise.

	* doc/gnupdf.texi: Likewise.

	* doc/gnupdf-tsd.texi: Likewise.

	* src/base/pdf-text-filter.c: Likewise.

	* torture/unit/base/hash/pdf-hash-add.c: Rename 'pdf_hash_create'
	to 'pdf_hash_new'.

	* torture/unit/base/hash/tsuite-hash.c: Likewise.

	* torture/unit/base/hash/pdf-hash-size.c: Likewise.

	* torture/unit/base/hash/pdf-hash-search.c: Likewise.

	* torture/unit/base/hash/pdf-hash-rename.c: Likewise.

	* torture/unit/base/hash/pdf-hash-remove.c: Likewise.

	* torture/unit/base/hash/pdf-hash-key-p.c: Likewise.

	* torture/unit/base/hash/pdf-hash-iterator.c: Likewise.

	* torture/unit/base/hash/pdf-hash-iterator-next.c: Likewise.

	* torture/unit/base/hash/pdf-hash-iterator-free.c: Likewise.

	* torture/unit/base/hash/pdf-hash-destroy.c: Likewise.

2008-09-08  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-hash.h (pdf_hash_new): Rename from
	'pdf_hash_create'.

	* src/base/pdf-hash.c (pdf_hash_new): Likewise.

	* doc/gnupdf-hg.texi (Abstract Data Types): New chapter.

	* torture/unit/Makefile.am (TEST_SUITE_LIST): Rename
	'pdf-list-create.c' to 'pdf-list-new.c'.

	* torture/unit/base/list/pdf-list-new.c: File rename from
	'pdf-list-create.c'.

	* src/base/pdf-stm.c: Rename 'pdf_list_create' to 'pdf_list_new'.

	* doc/gnupdf.texi: Likewise.

	* torture/unit/base/list/pdf-list-add-last.c: Likewise.

	* torture/unit/base/list/pdf-list-add-first.c: Likewise.

	* torture/unit/base/list/pdf-list-add-at.c: Likewise.

	* src/object/pdf-obj.c: Likewise.

	* src/base/pdf-text.c: Likewise.

	* torture/unit/base/list/tsuite-list.c: Likewise.

	* torture/unit/base/list/pdf-list-sorted-search.c: Likewise.

	* torture/unit/base/list/pdf-list-sorted-search-from-to.c: Likewise.

	* torture/unit/base/list/pdf-list-sorted-remove.c: Likewise.

	* torture/unit/base/list/pdf-list-sorted-indexof.c: Likewise.

	* torture/unit/base/list/pdf-list-sorted-indexof-from-to.c: Likewise.

	* torture/unit/base/list/pdf-list-sorted-add.c: Likewise.

	* torture/unit/base/list/pdf-list-size.c: Likewise.

	* torture/unit/base/list/pdf-list-set-at.c: Likewise.

	* torture/unit/base/list/pdf-list-search.c: Likewise.

	* torture/unit/base/list/pdf-list-search-from.c: Likewise.

	* torture/unit/base/list/pdf-list-search-from-to.c: Likewise.

	* torture/unit/base/list/pdf-list-remove.c: Likewise.

	* torture/unit/base/list/pdf-list-remove-node.c: Likewise.

	* torture/unit/base/list/pdf-list-remove-at.c: Likewise.

	* torture/unit/base/list/pdf-list-previous-node.c: Likewise.

	* torture/unit/base/list/pdf-list-node-value.c: Likewise.

	* torture/unit/base/list/pdf-list-next-node.c: Likewise.

	* torture/unit/base/list/pdf-list-iterator.c: Likewise.

	* torture/unit/base/list/pdf-list-iterator-next.c: Likewise.

	* torture/unit/base/list/pdf-list-iterator-from-to.c: Likewise.

	* torture/unit/base/list/pdf-list-iterator-free.c: Likewise.

	* torture/unit/base/list/pdf-list-indexof.c: Likewise.

	* torture/unit/base/list/pdf-list-indexof-from.c: Likewise.

	* torture/unit/base/list/pdf-list-indexof-from-to.c: Likewise.

	* torture/unit/base/list/pdf-list-get-at.c: Likewise.

	* torture/unit/base/list/pdf-list-destroy.c: Likewise.

	* doc/gnupdf-tsd.texi: Likewise.

	* src/base/pdf-list.h (pdf_list_new): Rename from
	'pdf_list_create'.

2008-09-04  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/patch_safety_dispatcher.py: End of file comment added.

	* AUTHORS: Gerardo E. Gidoni wrote
	prmgt/patch_safety_dispatcher.py

2008-09-03  Gerardo E. Gidoni  <gerel@gnu.org>

	* prmgt/patch_safety_dispatcher.py: small typo fix.

	* doc/gnupdf-hg.texi: added section for the patch-safety-dispatcher.

	* prmgt/patch_safety_dispatcher.py: first commit.

2008-09-02  Zac Brown  <zac@zacbrown.org>
	* src/base/pdf-fsys-disk.c: Change statvfs to statfs to facilitate
	portability across unixes.

	* src/base/pdf-time-context.c (pdf_time_context_init): Change
	pdf_time_context_init to use struct tm for getting GMT offset and
	DST settings.

	* src/base/pdf-types.h: Add PDF host type for BSD operating
	systems and include sys/param.h to get specific OS details to
	determine whether to set PDF_HOST_BSD.

2008-08-29  David Vazquez  <davazp@gmail.com>

	* torture/unit/runtests.c: Add test suite crypt.

	* torture/unit/base/crypt/tsuite-crypt.c: New file.

	* src/base/pdf-crypt-c-v2.h: New file.

	* src/base/pdf-crypt-c-v2.c: New file.

	* src/base/pdf-crypt-c-aesv2.h: New file.

	* src/base/pdf-crypt-c-aesv2.c: New file.

	* doc/gnupdf.texi (Creating and destroying Ciphers): Rename
	pdf_crypt_algo_e by pdf_crypt_cipher_algo_t.
	pdf_crypt_cipher_encrypt and pdf_crypt_cipher_decrypt functions
	return pdf_size_t.

	* src/Makefile.am (AM_CFLAGS): Flags for libgcrypt added.
	(libgnupdf_la_LIBADD): Libgcrypt library added.

	* configure.ac: Check for libgcrypt library added.

	* src/base/pdf-crypt.c: New file.

	* src/base/pdf-crypt.h: New file.
	(pdf_crypt_init): Implemented function.
	(pdf_crypt_cipher_new): Implemented function.
	(pdf_crypt_cipher_setkey): Implemented function.
	(pdf_crypt_cipher_encrypt_size): Implemented function.
	(pdf_crypt_cipher_decrypt_size): Implemented function.
	(pdf_crypt_cipher_encrypt): Implemented function.
	(pdf_crypt_cipher_decrypt): Implemented function.
	(pdf_crypt_cipher_destroy): Implemented function.
	(pdf_crypt_md_md5): Implemented function.

2008-08-29  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf-hg.texi (Syntax Check): New section.

	* src/base/pdf-hash.c (key_numeric_cmp): User 'strtol' instead of
	'atoi'.

	* src/base/pdf-text-host-encoding.c
	(pdf_text_convert_encoding_name_to_CP): Use 'strtol' instead of 'atol'.

	* cfg.mk: New file.

	* src/base/pdf-list.h: __STDC_VERSION__ is not defined in MacosX.

	* src/base/pdf-alloc.c (pdf_dealloc): Avoid a cast to the free
	argument so maint.mk doesnt complain.

	* README.cvs (NOTE): Fix the location of the trunk branch.

	* maint.mk: Imported from gnulib.

	* GNUmakefile: Imported from gnulib.

2008-08-22  Zac Brown  <zac@zacbrown.org>

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_file_set_mode): Make
	sure a variable is initialized in all cases and fix indentation.
	(pdf_fsys_disk_file_same_p): Implemented function.
	(pdf_fsys_disk_file_get_pos): Implemented function.
	(pdf_fsys_disk_file_set_pos): Implemented function.

	* doc/gnupdf.texi (pdf_fsys_file_same_p): Add example.
	(pdf_fsys_file_set_pos): Add example.
	(pdf_fsys_file_get_pos): Add example.

2008-08-19  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_file_set_mode): Return
	'PDF_EBADDATA' instead of 'PDF_EINVAL'.

	* doc/gnupdf.texi (File Properties Management):
	'pdf_fsys_file_set_mode' Returns 'PDF_EBADDATA' instead of
	'PDF_EINVAL' when the specified mode is not correct.

2008-08-18  Zac Brown  <zac@zacbrown.org>
	* doc/gnupdf.texi (pdf_fsys_file_get_mode): Updated example and
	function declaration to resolve issue in rendering gnupdf.info.
	(pdf_fsys_file_set_mode): Updated example and updated return type.

	* src/base/pdf-fsys-disk.c
	(pdf_fsys_disk_file_get_mode): Implemented function.
	(pdf_fsys_disk_file_set_mode): Implemented function and updated
	return type to give better information in instances of failure.
	(pdf_fsys_disk_file_flush): Fix return value for success from
	PDF_TRUE to PDF_OK.

	* src/base/pdf-fsys-disk.h (pdf_fsys_disk_file_t): Add file_mode field.
	(pdf_fsys_disk_file_set_mode): Update return type to pdf_status_t.

	* src/base/pdf-fsys.{ch} (pdf_fsys_file_set_mode): Update return type
	to pdf_status_t.

2008-08-18  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-stm.c (pdf_stm_read): New function.
	(pdf_stm_write): New function.

	* AUTHORS: Added David Vazquez.

2008-08-15  David Vazquez  <davazp@gmail.com>

	* doc/gnupdf.texi (Encryption): New section.
	(Initializating the module): New subsection.
	(Encryption and decryption): New subsection.
	(Creating and destroying Ciphers): New subsection.
	(Utils functions): New subsection.

2008-08-06  Jose E. Marchesi  <jemarch@gnu.org>

	*  Patch by Hans Hohenfeld changing the interface of
	'pdf_fsys_get_size'.

2008-08-05  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_get_item_props): Cast
	pdf_char_t argument to 'FindFirstFile'.

2008-08-05  Zac Brown  <zac@zacbrown.org>
	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_get_item_props): Move variable
	declaration outside #ifndef block to fix compilation on Win32.

2008-08-04  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Managing File Positions): Fix the entry for
	'pdf_fsys_file_get_pos' to reflect the implementation.

	* src/base/pdf-fsys.c (pdf_fsys_item_props_to_hash): Removed
	unused variable 'type_code'.
	(pdf_fsys_item_props_to_hash): Insert entries for 'creationDate'
	and 'modDate' in the file properties hash.

	* doc/gnupdf.texi (Getting File System Item Properties): Add
	"isReadable" and "isWritable" entries to the hash containing the
	filesystem item properties.

2008-08-03  Zac Brown  <zac@zacbrown.org>
	* src/base/pdf-fsys.h:
	(struct pdf_fsys_item_props_s):	Remove the following unnecessary
	fields: is_hidden, is_read_only, is_checked_out, is_published,
	creator_code, type_code, version_major, version_minor. Added following fields: is_readable,
	is_writable.

	* src/base/pdf-fsys-disk.c: Implemented
	pdf_fsys_disk_get_item_props, pdf_fsys_disk_readable_p,
	pdf_fsys_disk_writable_p and pdf_fsys_disk_readable_p.

	* doc/gnupdf.texi: Update documentation for
	`struct pdf_fsys_item_props_s'. Added examples for `pdf_fsys_item_p',
	`pdf_fsys_get_item_props', `pdf_fsys_item_readable_p' and
	`pdf_fsys_item_writable_p'

2008-08-01  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-stm.c (pdf_stm_dealloc): New function.
	(pdf_stm_destroy): New function.

	* src/base/pdf-stm-filter.c (pdf_stm_filter_get_in): New function.
	(pdf_stm_filter_set_in_end): New function.
	(pdf_stm_filter_get_in_end): New function.
	(pdf_stm_filter_set_in_begin): New function.
	(pdf_stm_filter_get_in_begin): New function.

2008-07-30  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Creating and Destroying Streams): API updated.

	* src/base/pdf-stm.c (pdf_stm_mem_new): New function.
	(pdf_stm_alloc): New function.
	(pdf_stm_init): New function.

2008-07-29  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-stm.c (pdf_stm_file_new): New function.

	* src/base/pdf-stm.h: Offset parameter to 'pdf_stm_file_new'.

	* doc/gnupdf.texi (Creating and Destroying Streams): Add an offset
	parameter.

2008-07-28  Jose E. Marchesi  <jemarch@gnu.org>

	*  Fix timestamps.

2008-07-27  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/Makefile.am (html-local): Use 'gnupdf-manual.init' to
	generate the html version of the hackers guide.

2008-07-26  Aleksander Morgado  <aleksander@es.gnu.org>

	* src/base/pdf-types.h: Include windows.h if compiling for w32.

	* src/base/pdf-time.[c|h] (pdf_time_set_from_u32): New function to
	initialize a pdf_time_t with the Unix time given as a pdf_u32_t.
	(pdf_time_set_from_i64): New function to initialize a pdf_time_t with
	the Unix time given as a pdf_i64_t.
	(pdf_time_w32_set_from_filetime): New w32-specific function to
	initialize a pdf_time_t with a FILETIME structure.

	* doc/gnupdf-tsd.texi (Types Module): Added missing menu entries for a
	correct compilation.

	* doc/gnupdf.texi (Platform-specific functions): New section including
	the w32-specific `pdf_time_w32_set_from_filetime' function, to fastly
	set the pdf_time_t to a given filetime-timescale epoch.
	(Managing Time Values): New functions `pdf_time_set_from_i32' and
	`pdf_time_set' in order to fastly set the pdf_time_t variable to a given
	unix-timescale epoch.

2008-07-26  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf-hg.texi (Naming Functions): New section.
	(Public functions in a module): New subsection.
	(Private functions in a module): New subsection.
	(Platform specific functions): New subsection.

	* src/base/pdf-time-string.c: Include 'pdf-alloc.h'.

	* src/base/pdf-time.c: Include 'pdf-alloc.h'.

2008-07-25  Aleksander Morgado  <aleksander@es.gnu.org>

	* src/base/pdf-time.c (pdf_time_get_cal): Function simplified to avoid
	using pdf_i64_t when not really needed. Also small bugfix in that
	function to correctly move the time value to local time depending on
	the gmt_offset.

	* src/base/pdf-time-string.h (pdf_time_to_string_utc_asn1): Function
	renamed from `pdf_time_to_string_asn1'.
	(pdf_time_from_string_utc_asn1): Function renamed from
	`pdf_time_from_string_asn1'.

	* src/base/pdf-time-string.c: Implemented to/from routines for
	UTC ASN1 and Generalized ASN1 date formats, as specified in the ASN1
	reference.
	(pdf_time_from_string_pdf): Function simplified.
	(pdf_time_from_string_iso8601): Function simplified.

	* doc/gnupdf.texi: Renamed enumeration  `PDF_TIME_FORMAT_ASN1' to
	`PDF_TIME_FORMAT_UTC_ASN1'.

	* src/base/pdf-time.h: Idem.

	* src/base/pdf-time.c: Removed `pdf-base.h' header, as it should
	not be included by any file in the base layer.

	* src/base/pdf-time-string.c: Idem.

	* src/base/pdf-text.h: Idem.

2008-07-25  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-list.h: Inline semantics in MacosX.

	* src/Makefile.am (clean-local): Remove pdf.h

	* doc/Makefile.am (clean-local): Remove generated info files.

	* src/base/pdf-list.h: Add support for c99 inline semantics.

2008-07-24  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-alloc.c (pdf_dealloc): Add the 'const' qualifier to
	the pointer argument.
	(pdf_realloc): Idem.

2008-07-24  gerel  <gerel@gnu.org>

	* src/base/pdf-hash-helper.[ch]: added helper functions.

	* doc/gnupdf.texi: same.

2008-07-23  gerel  <gerel@gnu.org>

	* src/base/pdf-hash.c: changed API to allow the specification of
	memory disposal functions in entry insertion time and removed
	table-wide disposal function.

	* src/base/pdf-hash.h: same.

	* src/base/pdf-fsys.c: fixed to conform API modifications.

	* torture/unit/base/hash/pdf-hash-add.c: same.

	* torture/unit/base/hash/pdf-hash-create.c: same.

	* torture/unit/base/hash/pdf-hash-destroy.c: same.

	* torture/unit/base/hash/pdf-hash-iterator-free.c: same.

	* torture/unit/base/hash/pdf-hash-iterator-next.c: same.

	* torture/unit/base/hash/pdf-hash-iterator.c: same.

	* torture/unit/base/hash/pdf-hash-key-p.c: same.

	* torture/unit/base/hash/pdf-hash-remove.c: same.

	* torture/unit/base/hash/pdf-hash-rename.c: same.

	* torture/unit/base/hash/pdf-hash-search.c: same.

	* torture/unit/base/hash/pdf-hash-size.c: same.

	* doc/gnupdf.texi: same.

2008-07-22  Daniel Vidal  <davr@pc_davr.deimos-space.com>

	* src/base/pdf-types.c:  Fixed negative number handling in some functions. Also error handling issues fixed.

	* torture/unit/base/types/pdf-i64-subtraction.c: Test for pdf_i64_subtraction function

	* torture/unit/base/types/pdf-i64-mod.c: Test for pdf_i64_mod function

	* torture/unit/base/types/pdf-i64-div.c: Test for pdf_i64_div function

	* torture/unit/base/types/pdf-i64-mult.c: Test for pdf_i64_mult function

	* torture/unit/base/types/tsuite-types.c: Added new tests

	* torture/unit/Makefile.am: Added new types tests

	* doc/gnupdf.texi: Changed i64 interfaces

	* doc/gnupdf-tsd.texi: Added new i64 tests

2008-07-21  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-types.h: pdf_stm_pos_t is not pdf_off_t

2008-07-21  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf-manual-wiki.init (mediawiki_preformatted): Fix a bug
	preventing the @example sections to appear in mediawiki output.

2008-07-20  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/Makefile.am (gnudpf-hg.wiki): New fule for the Hackers
	Guide.

	* doc/gnupdf-hg.texi: New manual.

	* doc/Makefile.am (noinst_TEXINFOS): Build the new Hackers Guide

2008-07-16  Jose E. Marchesi  <jemarch@gnu.org>

	* bootstrap: Output changed to mention Bazaar.

	* README.cvs (NOTE): This file is now obsolete.

	* README.bzr: New file.

2008-07-13  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-time-string.c (pdf_time_from_string_pdf): Function
	implemented.
	(pdf_time_to_string_pdf): Function implemented.
	(pdf_time_to_string_iso8601): Bugfix to handle negative GMT offsets.

2008-07-11  gerel  <gerel@gnu.org>

	* prmgt/check-api-doc-consistency.pl: added '-i' feature.

2008-07-10  Aleksander Morgado  <aleksander@es.gnu.org>

	* doc/gnupdf.texi: Parameter names for `pdf_time_get_utc_cal',
	`pdf_time_span_negate' and `pdf_time_span_to_secs' changed so that they
	are the same as in `pdf-time.h'.

2008-07-09  Daniel Vidal  <davr@pc_davr.deimos-space.com>

	* torture/unit/base/types/pdf-i64-neg.c: Changed pdf_i64 functions to conform to new API

	* torture/unit/base/types/pdf-i64-copy.c: Changed pdf_i64 functions to conform to new API

	* torture/unit/base/types/pdf-i64-cmp.c: Changed pdf_i64 functions to conform to new API

	* torture/unit/base/types/pdf-i64-assign.c: Changed pdf_i64 functions to 
	conform to new API

	* torture/unit/base/types/pdf-i64-assign-quick.c: Changed pdf_i64 functions to 
	conform to new API

	* torture/unit/base/types/pdf-i64-add.c: Changed pdf_i64 functions to conform to new API

	* torture/unit/base/types/pdf-i64-abs.c: Changed pdf_i64 functions to conform to new API

	* src/base/pdf-time.c: Changed pdf_i64 functions to conform to new API

	* src/base/pdf-types.c: Changed API to return void in all functions 
	but keeping error control

	* src/base/pdf-types.h: Changed API to return void in all functions 
	but keeping error control

2008-07-07  gerel  <gerel@gnu.org>

	* prmgt/srcinfo-extractor.pl: FS#52, first add.

2008-07-08  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi: Grammatical fixes and new example. Patch by Zac
	Brown.

2008-07-04  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-time.c (pdf_time_diff_cal): Take into account that
	structure members inside `pdf_time_cal_span_s' are all unsigned.

2008-07-04  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-time.c (pdf_time_cal_span_diff): Function implemented
	and some other bugfixes related to calendar spans, which are not
	funny any more.

2008-07-02  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-time.c: Basic bugfixes to always store the epoch
	in UTC within the `pdf_time_t'. GMT offset is stored separately.

	* src/base/pdf-time-string.c (pdf_time_from_string_iso8601): Get
	`pdf_time_cal_s' from string in UTC, then convert it to a
	`pdf_time_t'.

	* doc/gnupdf.texi (Time Related Data Types): Clarification on the
	use of `struct pdf_time_cal_s'.

2008-07-02  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-time-string.c (pdf_time_to_string_iso8601): Function
	implemented. Remember to pdf_dealloc-ate the returned string.

	* src/base/pdf-time.c (pdf_time_from_cal): Bugfix (one day less)
	and gmt offset included.

	* src/base/pdf-time.h: Remove not needed typedef.

	* doc/gnupdf.texi (Time Printing and Parsing): Clarification.
	The string returned by `pdf_time_to_string' must be deallocated
	by the caller.

2008-07-02  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-time.h (struct pdf_time_s): Clarification. GMT
	offset must be stored in seconds west of GMT.

	* doc/gnupdf.texi (Time Related Data Types): Idem.

2008-06-27  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-time.[c|h]: When passing a struct to a function, do
	it by the means of its address, not a copy of the whole structure.

	* doc/gnupdf.texi (Time Module API): Idem.

	* src/base/pdf-time-string.c (pdf_time_from_string_iso8601): Changed
	to use new time module API.

	* src/base/pdf-time-context.c (pdf_time_context_init): Store gmt
	offset in seconds, not in minutes.

2008-06-25  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/generate-coverage-report: New script to generate an html
	coverage report using lcov.

	* src/Makefile.am (clean-local): Remove code coverage information.

	* configure.ac: Add support for compilation with code coverage.

2008-06-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-time-context.h: New file

	* src/base/pdf-time-context.c: New file

	* src/base/pdf-time-string.h: New file

	* src/base/pdf-time-string.c: New file

	* src/base/pdf-time.h: New file

	* src/base/pdf-time.c: New file.

	* src/base/pdf-fsys.h: Remove temporary typedef of pdf_time_t.

	* src/Makefile.am (TIME_MODULE_SOURCES): Added compilation of the time module.
	(PUBLIC_HDRS): Add pdf-time.h in the public library header.

2008-06-25  Aleksander Morgado  <aleksander@es.gnu.org>

	* src/base/pdf-types.h: Added macros for the new pdf_i64_* functions. Also
	new implementation for pdf_i64_cmp macro.

2008-06-24  Daniel Vidal  <davr@pc_davr.deimos-space.com>

	* torture/unit/base/types/pdf-i64-neg.c: new pdf_i64 test

	* torture/unit/base/types/pdf-i64-cmp.c: new pdf_i64 test

	* torture/unit/base/types/pdf-i64-abs.c: new pdf_i64 test

	* torture/unit/base/types/tsuite-types.c: new tests

	* torture/unit/base/types/pdf-i64-new.c: added support for new macros

	* torture/unit/base/types/pdf-i64-copy.c: added support for new macros

	* torture/unit/base/types/pdf-i64-assign.c: added support for new macros

	* torture/unit/base/types/pdf-i64-assign-quick.c: added support for new macros

	* torture/unit/base/types/pdf-i64-new.c: added support for new macros

	* torture/unit/base/types/pdf-i64-add.c: added support for new macros

	* torture/unit/Makefile.am: added new tests for types module

	* src/base/pdf-types.h: added macros for 64 bit systems

	* src/base/pdf-types.c: added macros for 64 bit systems

2008-06-17  gerel  <gerel@gnu.org>

	* src/base/pdf-fsys.c: small fix in pdf_fsys_create().

2008-06-17  gerel  <gerel@gnu.org>

	* doc/gnupdf-tsd.texi: added error module tests.

2008-06-16  gerel  <gerel@gnu.org>

	* torture/unit/Makefile.am: added error module tests.

	* torture/unit/runtests.c: added error module tests.

	* torture/unit/base/error/pdf-error.c: test first commit.

	* torture/unit/base/error/tsuite-error.c: test first commit.

	* torture/unit/base/error/pdf-perror.c: test first commit.

	* src/base/pdf-error.[ch]: added new types and messages.

2008-06-15  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* doc/gnupdf.texi: Added new functions allowing 32bit values as input
	in the built-in 64bit support.
	(pdf_i64_add_i32): New function.
	(pdf_i64_subtract_i32_min): New function.
	(pdf_i64_subtract_i32_sub): New function.
	(pdf_i64_mult_i32): New function.
	(pdf_i64_div_i32_divisor): New function.
	(pdf_i64_div_i32_dividend): New function.
	(pdf_i64_mod_i32_divisor): New function.
	(pdf_i64_mod_i32_dividend): New function.
	(pdf_i64_cmp_i32): New function.
	(pdf_i64_to_i32): New function.

	* src/base/pdf-types.[c|h]: Idem.

2008-06-15  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/Makefile.am (libgnupdf_la_LDFLAGS): Only use --no-undefined if
	compiling for W32 with mingw32 (to create a DLL). This option breaks
	compilation in Mac OS X.

	* configure.ac: Set COMPILER_W32_SYSTEM if mingw32 host detected.

2008-06-14  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-error.h (enum pdf_status_e): Removed PDF_EINVAL and added
	PDF_EBADTEXT.

	* src/base/pdf-text-encoding.c: Changed PDF_EBADDATA with PDF_EBADTEXT and
	PDF_EINVAL with PDF_EBADDATA.

	* src/base/pdf-text-filter.c: Idem

	* src/base/pdf-text-host-encoding.c: Idem

	* src/base/pdf-text-ucd-case.c: Idem

	* src/base/pdf-text-ucd-wordbreak.c: Idem

	* src/base/pdf-text.c: Idem

2008-06-10  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Filtered Streams): New section.
	(Creating and Destroying Streams): New section.
	(Managing the Filter Chain): New section.
	(Reading and Writing Data): New section.
	(Creating and Destroying Streams): New function
	`pdf_stm_file_new'.
	(Stream Types): New section.
	(Stream Types): New data type `pdf_stm_t'.
	(Stream Types): New data type `enum pdf_stm_mode_e'.
	(Creating and Destroying Streams): New function
	`pdf_stm_mem_new'.
	(Creating and Destroying Streams): New function
	`pdf_stm_destroy'.
	(Stream Positioning): New section.
	(Managing the Filter Chain): New several functions.
	(Reading and Writing Data): New several functions.
	(Stream Positioning): New several functions.

2008-06-05  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Closing and Reopening Files): Add `PDF_ERROR'
	as a possible return value for `pdf_fsys_disk_file_close'.

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_file_close): New function.

2008-05-29  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf-tsd.texi (pdf_fsys_open): New section.
	(pdf_fsys_open): New test 001.
	(pdf_fsys_open): New test 002.
	(pdf_fsys_open): New test 003.
	(pdf_fsys_open): New test 004.

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_get_free_space): Added
	support for mingw32.

2008-05-28  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_get_free_space):
	Implemented.

	* rmdir module imported from gnulib.

	* src/base/pdf-error.h (enum pdf_status_e): New value
	`PDF_ENOTEMPTY'.

	* doc/gnupdf.texi (Folder Management): Added `PDF_ERROR' as a
	possible return value for `pdf_fsys_remove_folder'.

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_get_folder_contents):
	Implemented.

	* doc/gnupdf.texi (Folder Management): Added `PDF_ERROR' as a
	possible return value for `pdf_fsys_get_folder_contents'.

2008-05-27  Jose E. Marchesi  <jemarch@gnu.org>

	* lib/localename.c: Update by Bruno Haible to fix a bug in mingw32
	sublanguage codes.

	* gnulib updated from git.

	* mkdir module (and dependencies) imported from gnulib.

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_create_folder): New
	function.

	* doc/gnupdf.texi (Folder Management): Added `PDF_ERROR' as a
	possible return value of `pdf_fsys_create_folder'.

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_get_host_path): New
	function.

2008-05-26  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_open): `fopen' do not
	set `errno' in mingw.

	* fflush module (and dependencies) imported from gnulib.

	* src/base/pdf-error.h (enum pdf_status_e): New `PDF_EAGAIN' and
	`PDF_ENOSPC' values.

	* doc/gnupdf.texi (Synchronous Input/Output): New error conditions
	for `pdf_fsys_disk_file_flush'.

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_file_flush):
	Implementation.

2008-05-25  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_build_mode_string): Add
	missing `static' qualifier.
	(pdf_fsys_disk_win32_device_p): New function.

	* src/Makefile.am (libgnupdf_la_LDFLAGS): Call ld with
	`-no-undefined' to be able to generate a DLL library when
	compiling for Windozes.

2008-05-22  Jose E. Marchesi  <jemarch@gnu.org>

	* AUTHORS: Indentation fixed.

	* src/base/pdf-error.h (enum): `PDF_EBADPERMS' and `PDF_EBADNAME'
	added to `pdf_status_t'.
	(enum pdf_status_e): Define `enum pdf_status_e' and then typedef
	to `pdf_status_t' to avoid the anonym data type (and the horrid
	Emacs changelog effect you can see in the previous entry).

	* doc/gnupdf.texi (Opening Files): `pdf_fsys_file_open' may return
	`PDF_ENOMEM'.

	* src/base/pdf-fsys-disk.c (pdf_fsys_disk_build_mode_string): New
	private function.

	* src/base/pdf-fsys-disk.h (struct pdf_fsys_disk_file_s): New
	structure.

	* src/base/pdf-fsys.c (pdf_fsys_item_props_to_hash): Implemented.

	* src/Makefile.am (FILESYSTEM_MODULE_SOURCES): New variable
	holding filesystem module sources.

	* src/base/pdf-fsys.h: New file.

	* src/base/pdf-fsys-disk.h: New file.

	* src/base/pdf-fsys-disk.c: New file.

	* src/base/pdf-fsys-def.h: New file.

	* src/base/pdf-fsys.c: New file.

	* doc/gnupdf.texi (Read in Advance): New section.
	(Read in Advance): New function `pdf_fsys_file_request_rad'.
	(Read in Advance): New function `pdf_fsys_file_has_rad'.
	(Read in Advance): New function `pdf_fsys_file_cancel_rad'.
	(Closing and Reopening Files): New section.
	(Closing and Reopening Files): New function `pdf_fsys_file_close'.
	(Closing and Reopening Files): New function
	`pdf_fsys_file_reopen'.
	(Comparing Files): New section.
	(Comparing Files): New function `pdf_fsys_file_same_p'.
	(Getting File System Properties): New section.
	(Getting File System Properties): New function
	`pdf_fsys_get_free_space'.
	(File System Utility Functions): New section.
	(File System Utility Functions): New function
	`pdf_fsys_get_temp_path_name'.
	Fix callback types and remove redundant callbacks.
	(File System Definition Functions): New function
	`pdf_fsys_destroy'.

	* prmgt/Makefile.am (ut.wiki): Rule to generate `ut.wiki' added.

	* prmgt/testlog2wiki.in: Implementation finished.

2008-05-20  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/testlog2wiki.in: Fix a bug so we can output information
	about all the tests pertaining to a given function.

	* configure.ac: Output `prmgt/testlog2wiki'.

	* prmgt/testlog2wiki.in: New file.

	* torture/unit/nocheck/README: Fix the formatting and fill the
	text.

	* doc/gnupdf.texi (File Properties Management): New function
	`pdf_fsys_file_get_pos'.
	(File Properties Management): New function
	`pdf_fsys_file_get_url'.
	(File Properties Management): New function
	`pdf_fsys_file_set_mode'.
	(Seeking Into an Open File): New section.
	(Seeking Into an Open File): New function
	`pdf_fsys_file_set_pos'.
	(Changing the Size of a File): New function
	`pdf_fsys_file_resize'.

2008-05-19  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (File Properties Management): New section.
	(File Properties Management): New function
	`pdf_fsys_file_sizeable_p'.
	(File Properties Management): New function
	`pdf_fsys_file_get_size'.
	(File Properties Management): New function
	`pdf_fsys_file_get_filesystem'.
	(File Data Types): New data type `pdf_fsys_file_mode_t'.
	(File Properties Management): New function
	`pdf_fsys_file_get_open_mode'.

	* src/base/pdf-types.c (pdf_i64_mod): Make and use non-const
	versions of const arguments for internal operation.
	(pdf_i64_div): idem.
	Reformat function headers to comply with GCS.

2008-05-18  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Output `apic2wiki' from `apic2wiki.in'.

	* prmgt/Makefile.am (apic.wiki): New rule to build `apic.wiki'.

	* prmgt/pmccabe2html.in: Obsolete TODO mark removed.

	* prmgt/check-api-doc-consistency.pl: New plain-mode '-p' to ease
	the automatic process of the script output.
	New distribution terms under the GPLv3 license.

	* prmgt/apic2wiki.in: New file.

	* prmgt/pmccabe2html.in: Fix end of file comment.

2008-05-14  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Filesystem Data Types): New data type
	`pdf_fsys_item_props_s'.
	(Getting File System Item Properties): New function
	`pdf_fsys_get_item_props'.
	(Getting File System Item Properties): New function
	`pdf_fsys_item_p'.
	(Getting File System Item Properties): New function
	`pdf_fsys_readable_p'.
	(Getting File System Item Properties): New function
	`pdf_fsys_writable_p'.

2008-05-11  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* doc/gnupdf.texi: Update Time module API with corrections.

2008-05-08  gerel  <gerel@gnu.org>

	* doc/gnupdf.texi: corrected some API funcs.

	* src/base/pdf-text.[ch]: same.

	* src/base/pdf-alloc.[ch]: same.

2008-05-08  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/check-api-doc-consistency.pl: moved from `build-aux'.

2008-05-06  gerel  <gerel@gnu.org>

	* doc/gnupdf.texi: updated API to conform the "const" convention.

	* src/base/pdf-alloc.c: updated API to conform the "const" convention.

	* src/base/pdf-alloc.h: updated API to conform the "const" convention.

	* src/base/pdf-error.c: updated API to conform the "const" convention.

	* src/base/pdf-error.h: updated API to conform the "const" convention.

	* src/base/pdf-hash.c: updated API to conform the "const" convention.

	* src/base/pdf-hash.h: updated API to conform the "const" convention.

	* src/base/pdf-list.h: updated API to conform the "const" convention.

	* src/base/pdf-text.c: updated API to conform the "const" convention.

	* src/base/pdf-text.h: updated API to conform the "const" convention.

	* src/base/pdf-types.c: updated API to conform the "const" convention.

	* src/base/pdf-types.h: updated API to conform the "const" convention.


2008-05-05  Daniel Vidal  <davr@pc_davr.deimos-space.com>

	* torture/unit/base/types/tsuite-types.c (tsuite_types): Tests for the
	pdf_i64_t type

	* torture/unit/base/types/pdf-i64-copy.c: New test file for pdf_i64_t
	type

	* torture/unit/base/types/pdf-i64-new.c: New test file for pdf_i64_t
	type

	* torture/unit/base/types/pdf-i64-assign.c: New test file for pdf_i64_t
	type

	* torture/unit/base/types/pdf-i64-assign-quick.c: New test file for pdf_i64_t
	type

	* torture/unit/base/types/pdf-i64-add.c: New test file for pdf_i64_t
	type

	* torture/unit/runtests.c: Included tests for type pdf_i64_t

	* torture/unit/Makefile.am (TEST_SUITE_TEXT): Included tests for type
	pdf_i64_t

	* src/Makefile.am (PUBLIC_HDRS): Changed order of declaration of public
	headers pdf-types.h and pdf-error.h

	* src/base/pdf-types.c: Included pdf_i64_t type

	* src/base/pdf-types.h: Included pdf_i64_t type

2008-05-05  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-types.h: Change signed integer pdf_XX_t types to
	pdf_iXX_t.

	* src/base/pdf-text.h: Change signed integer pdf_XX_t types to
	pdf_iXX_t.

	* src/base/pdf-text.c: Change signed integer pdf_XX_t types to
	pdf_iXX_t.

	* src/base/pdf-text-ucd-case.c: Change signed integer pdf_XX_t types
	to pdf_iXX_t.

	* build-aux/pdf-text-generate-ucd.c: Change signed integer pdf_XX_t
	types to pdf_iXX_t.

2008-04-29  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.c (pdf_text_replace_multiple): Split function to
	make pmccabe happy.

	* src/base/pdf-text-host-encoding.c (pdf_text_utf32he_to_host): Split
	function to make pmccabe happy.
	(pdf_text_host_to_utf32he): Split function to make pmccabe happy.

2008-04-27  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/pdf-text-set-host.c: Add Win32 support.

	* torture/unit/base/text/pdf-text-new-from-host.c: Add Win32 support.

	* torture/unit/base/text/pdf-text-get-host.c: Add Win32 support.

	* torture/unit/base/text/pdf-text-get-best-encoding.c: Add Win32
	support.

	* torture/unit/base/text/pdf-text-filter.c: Add Win32 support.

	* torture/unit/base/text/pdf-text-check-host-encoding.c: Add Win32
	support.

	* src/base/pdf-types.h (PDF_HOST_WIN32): New definition for Win32
	environments.

	* src/base/pdf-text.h: New function: `pdf_text_replace_multiple', which
	is not in the public API of the module.

	* src/base/pdf-text.c (pdf_text_get_best_encoding): Add best encodings
	in Win32 environment.
	(pdf_text_replace_multiple): New function. Replace a set of old patterns
	with a single new pattern.
	(pdf_text_replace): Use `pdf_text_replace_multiple'.

	* src/base/pdf-text-host-encoding.c: Add Win32 host encoding conversion
	support.

	* src/base/pdf-text-filter.c (pdf_text_substitute_line_ending): Replace
	all possible line endings in a single replacement loop.

	* src/base/pdf-text-context.c: Depend on new PDF_HOST_WIN32 instead
	of WIN32_NATIVE.

	* src/base/pdf-stm-file.c (pdf_stm_file_init): Add dependency of host
	type in the open mode flags.

2008-04-24  Jose E. Marchesi  <jco@terma.com>

	* README (specs): Use the canonical URL http://www.gnupdf.org

2008-04-23  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/stm/pdf-create-file-stm.c: Function `pdf_stm_close'
	returns PDF_OK if succeeded.

	* torture/unit/base/list/pdf-list-iterator.c: Deallocate iterators before
	exit.

	* torture/unit/base/list/pdf-list-iterator-next.c: Deallocate iterators
	before exit.

	* torture/unit/base/list/pdf-list-iterator-from-to.c: Deallocate
	iterators before exit.

	* torture/unit/base/hash/pdf-hash-iterator.c: Deallocate iterators
	before exit.

	* torture/unit/base/hash/pdf-hash-iterator-next.c: Deallocate iterators
	before exit.

	* src/base/pdf-stm.c (pdf_create_file_stm): The initialization function
	from the backend returns PDK_OK if succeeded.

	* src/base/pdf-stm-file.c (pdf_stm_file_init): Correctly deallocate
	filename if open function didn't succeed.

	* src/base/pdf-hash.c (pdf_hash_destroy): Correctly deallocate list
	elements.
	(pdf_hash_remove): Correctly deallocate list element.

2008-04-23  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/pdf-text-filter.c (START_TEST): Correct size
	of input string in test pdf_text_filter_008.

	* utils/Makefile.am (LDADD): If available, link to GNU libiconv for
	iconv() instead of libc.

2008-04-23  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-context.c (pdf_text_detect_host_language_and_country): 
	Category name should also be added in case setlocale is not supported.

2008-04-23  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-filter.c (pdf_text_filter_change_case): New list
	of words must be dynamically allocated.

	* src/base/pdf-text.c (pdf_text_destroy_word_boundaries_list):
	Correctly deallocate contents of list elements.

2008-04-23  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/runtests.c (main): Deactivate stm unit tests until the
	new implementation based on the filesystem module is done.

2008-04-22  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* configure.ac: Update message when no UT framework is selected.

	* src/base/pdf-text-ucd-case.c (pdf_text_ucd_special_case_conditions):
	Bugfix invalid write.

	* torture/unit/base/text/pdf-text-filter.c: Free allocated memory in
	the unit tests to easily check memory leaks within the library.

2008-04-22  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/unit/base/hash/pdf-hash-search.c (START_TEST): Cast
	generic pointers to avoid warnings.

2008-04-22  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/nocheck/README: New file.

	* torture/unit/nocheck/check.h: New file. No-Check ut framework API,
	compatible with real Check API.

	* torture/unit/nocheck/check.c: New file. No-Check ut framework.

	* torture/unit/runtests.c: Include also `stdio.h'.

	* torture/unit/Makefile.am: Added compilation of No-Check unit testing
	framework depending on specific configure options.

	* configure.ac: Support built-in No-Check unit testing framework.

2008-04-21  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/unit/base/list/pdf-list-set-at.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-search-from-to.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-search-from.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-search.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-remove.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-remove-node.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-remove-at.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-previous-node.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-node-value.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-next-node.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-iterator-next.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-iterator-from-to.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-indexof-from.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-indexof-from-to.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-get-at.c (START_TEST): Idem.

	* torture/unit/base/list/pdf-list-add-last.c: Idem.

	* torture/unit/base/list/pdf-list-add-first.c (START_TEST): Use
	new prototype of `pdf_list_add_first' and `pdf_list_add_last'.

	* src/base/pdf-text.c (pdf_text_fill_word_boundaries_list): Use
	new prototype of `pdf_list_add_first' and `pdf_list_add_last'.

	* src/base/pdf-stm.c (pdf_stm_install_filter): Use new prototype
	of `pdf_list_add_first' and `pdf_list_add_last'.

	* src/base/pdf-list.h (pdf_list_add_first): Return a pdf status
	value and get the list node structure as a parameter.
	(pdf_list_add_last): Idem.
	(pdf_list_add_at): Check for existing elements if the list doesnt
	allow duplicates.
	(pdf_list_set_at): Idem.
	(struct pdf_list_s): New boolean field `allow_duplicates'.

	* doc/gnupdf.texi (Adding and Removing List Elements): New
	attribute `node' in `pdf_list_add_first' and new pdf status return
	value.
	(Adding and Removing List Elements): New
	attribute `node' in `pdf_list_add_last' and new pdf status return
	value.
	(Adding and Removing List Elements): New pdf status return value
	in `pdf_list_add_at'.
	(Setting and Getting List Elements): New pdf status return value
	in `pdf_list_set_at'.

2008-04-18  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/unit/base/hash/pdf-hash-iterator-next.c (START_TEST):
	Cast (void *) pointers to avoid compilation warnings.

	* src/base/pdf-hash.c: Include <limits.h> that provides
	`CHAR_BIT'.

2008-04-17  gerel  <gerel@gnu.org>

	* doc/gnupdf-tsd.texi: added missing List and new Hash Module tests.

	* doc/gnupdf.texi: modified Hash Module API.

	* src/Makefile.am: added Hash Module sources.

	* torture/unit/Makefile.am: added Hash Module test sources

	* torture/unit/runtests.c: added Hash Module case suite.

	* torture/unit/base/list/tsuite-list.c: added missing tests.

	* src/base/pdf-hash.c: initial add

	* src/base/pdf-hash.h: initial add

	* torture/unit/base/list/pdf-list-destroy.c: initial add.

	* torture/unit/base/list/pdf-list-iterator-free.c: initial add.

	* torture/unit/base/hash/pdf-hash-add.c: initial add.

	* torture/unit/base/hash/pdf-hash-create.c: initial add.

	* torture/unit/base/hash/pdf-hash-destroy.c: initial add.

	* torture/unit/base/hash/pdf-hash-iterator-free.c: initial add.

	* torture/unit/base/hash/pdf-hash-iterator-next.c: initial add.

	* torture/unit/base/hash/pdf-hash-iterator.c: initial add.

	* torture/unit/base/hash/pdf-hash-key-p.c: initial add.

	* torture/unit/base/hash/pdf-hash-remove.c: initial add.

	* torture/unit/base/hash/pdf-hash-rename.c: initial add.

	* torture/unit/base/hash/pdf-hash-search.c: initial add.

	* torture/unit/base/hash/pdf-hash-size.c: initial add.

	* torture/unit/base/hash/tsuite-hash.c: initial add.

2008-04-17  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* build-aux/pdf-text-generate-ucd.c (int32_t): Define to `int' if not
	available in the system (like in windows).

2008-04-16  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-wordbreak.h: Create new block of self-generated
	data.

	* src/base/pdf-text-ucd-proplist.h: Create new block of self-generated
	data.

	* src/base/pdf-text-ucd-gencat.h: Create new block of self-generated
	data.

	* src/base/pdf-text-ucd-gencat.c: Move the length of arrays to the
	block of self-generated data.

	* src/base/pdf-text-ucd-combclass.c: Move the length of arrays to the
	block of self-generated data.

	* src/base/pdf-text-ucd-case.c: Move the length of arrays to the block
	of self-generated data.

	* build-aux/README.regenerateUCD: New file. How to update the contents
	of the Unicode Character Database.

	* build-aux/pdf-text-generate-ucd.c: Also print in the generated source
	files the lengths of the arrays.

2008-04-15  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Managing File System Item Properties
	Implementation): New section.

2008-04-15  gerel  <gerel@gnu.org>

	* doc/gnupdf.texi: added missing Hash types.

2008-04-14  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Filesystem Utility Functions): New section.
	(Managing File Properties Implementation): New section.

2008-04-13  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* doc/gnupdf-tsd.texi (pdf_text_cmp): Updated success conditions in
	`pdf_text_cmp_005' and `pdf_text_cmp_006'.

2008-04-13  gerel  <gerel@gnu.org>

	* doc/gnupdf-tsd.texi: added missing List module tests.

	* torture/unit/Makefile.am: Idem.

	* torture/unit/base/list/tsuite-list.c: Idem.

	* src/base/pdf-list.h: added sorted list functions.

	* torture/unit/base/list/pdf-list-create.c: added comparision funcs.

	* torture/unit/base/list/pdf-list-sorted-add.c: initial add

	* torture/unit/base/list/pdf-list-sorted-remove.c: initial add

	* torture/unit/base/list/pdf-list-sorted-indexof-from-to.c: initial add

	* torture/unit/base/list/pdf-list-sorted-indexof.c: initial add

	* torture/unit/base/list/pdf-list-sorted-search-from-to.c: initial add

	* torture/unit/base/list/pdf-list-sorted-search.c: initial add

2008-04-13  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/pdf-text-filter.c: Remove compilation warning.

	* torture/unit/base/text/pdf-text-cmp.c: New file. Tests for
	`pdf_text_cmp'.

	* torture/unit/base/text/tsuite-text.c (tsuite_text): Added execution of
	tests for `pdf_text_cmp'.

	* torture/unit/Makefile.am (TEST_SUITE_TEXT): Added compilation of tests
	for `pdf_text_cmp'.

	* src/base/pdf-text-ucd-case.c (pdf_text_ucd_create_case_context): Bug
	corrected. Set default language code as an empty string in the case
	context when no specific language code is stored in the pdf_text_t.

	* src/base/pdf-text.c (pdf_text_cmp): Function splitted into a new
	static one when non case sensitive.

2008-04-13  Jose E. Marchesi  <jemarch@gnu.org>

	* lib/gl_linkedhash_list.h: Imported from gnulib.

	* lib/gl_linkedhash_list.c: Imported from gnulib.

	* lib/gl_anylinked_list2.h: Imported from gnulib.

	* lib/gl_anylinked_list1.h: Imported from gnulib.

	* lib/gl_anyhash_list2.h: Imported from gnulib.

	* lib/gl_anyhash_list1.h: Imported from gnulib.

2008-04-13  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/pdf-text-filter.c: New file. Tests for
	`pdf_text_filter'.

	* torture/unit/base/text/tsuite-text.c (tsuite_text): Added execution of
	tests for `pdf_text_filter'.

	* torture/unit/Makefile.am (TEST_SUITE_TEXT): Added compilation of tests
	for `pdf_text_filter'.

2008-04-13  Jose E. Marchesi  <jemarch@gnu.org>

	* AUTHORS: Clean up.

2008-04-13  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-case.c (pdf_text_ucd_After_Soft_Dotted): Check
	for Soft_Dotted property before checking combining class.
	(pdf_text_ucd_After_I): Check for unicode point being 0x49 before
	checking combining class.
	(pdf_text_ucd_word_change_case): Bugfix. A given unicode point can even
	disappear after a change of case, so `new_char_size' can be zero.

2008-04-13  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Opening and Closing Files): New section.
	(Filesystem Data Types): New section.
	(Folder Management): New section.
	(Opening and Closing Files Implementation): New section.
	(Folder Management Implementation): New section.
	(File Data Types): New section.
	(Synchronous Input/Output Implementation): New section.
	(Synchronous Input/Output): New section.

2008-04-13  gerel  <gerel@gnu.org>

	* doc/gnupdf.texi: updated List Module types and added missing
	functions.

2008-04-12  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-case.c (pdf_text_ucd_is_case_ignorable): New
	Unicode 5.1 standard updates the definition of `Case ignorable' code
	points.

2008-04-12  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-wordbreak.h: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-wordbreak.c: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-proplist.c: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-gencat.c: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-combclass.c: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-case.c: Updated to Unicode 5.1. Also modified
	the way special case conditions are found (new direct access to special
	casing info in the simple casing info array).

2008-04-12  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* build-aux/pdf-text-download-and-generate-ucd.sh: New script to
	download with `wget' the needed UCD files and generate all source files
	from latest Unicode Character Database.

	* build-aux/pdf-text-generate-ucd.c: Improved the information generated
	by the tool, and prepared for new official version of Unicode (5.1).

	* build-aux/README: Added information about new script
	pdf-text-download-and-generate-ucd.sh

2008-04-10  gerel  <gerel@gnu.org>

	* doc/gnupdf.texi: added Hash Module API.

2008-04-09  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Filesystem Concepts): New section.
	(Filesystem Interfaces): New section.
	(The Filesystem Implementation Interface): New section.
	(The Filesystem Definition Interface): New section.
	(The Filesystem Interface): New section.
	(The File Interface): New section.

2008-04-09  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/pdf-text-set-language.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-set-country.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-replace-ascii.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-new-from-u32.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-new-from-pdf-string.c: Avoid memory
	leaks in tests.

	* torture/unit/base/text/pdf-text-new-from-host.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-get-unicode.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-get-language.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-get-hex.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-get-country.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-empty-p.c: Avoid memory leaks in
	tests.

	* src/base/pdf-text.c (pdf_text_replace): Avoid memory leak.

	* src/base/pdf-text-host-encoding.c (pdf_text_host_to_utf32he): Avoid
	memory leak.

2008-04-08  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.c (pdf_text_get_unicode): Only store output data if
	it is available.
	(pdf_text_replace): Improved the way replacements are done. If size of
	replacement is not equal, a list of pointers to the patterns is stored
	in the first loop, and then replacements are done in the second loop.
	(pdf_text_get_unicode_string_header): Check for pointers being not NULL.
	(pdf_text_fill_word_boundaries_list): Correct way to store word
	boundaries in the `pdf_list_t'. Elements of the list must be allocated with
	pdf_alloc, as the list module doesn't make a copy of the element, it
	just adds the reference in the list.

	* src/base/pdf-text-ucd.h: Include `pdf-text-ucd-proplist.h'.

	* src/base/pdf-text-ucd-wordbreak.c (pdf_text_ucd_wb_in_interval): Bug
	in interval limits corrected.

	* src/base/pdf-text-ucd-case.c: Added `After_I' and `After_Soft_Dotted'
	context conditions. Also minor bugfixes in casing context creation.

	* src/base/pdf-text-filter.c (pdf_text_filter_change_case): Use 
	`UCD_SC_MAX_EXPAND'. Also minor bugfix setting correct final data size.
	(pdf_text_filter_remove_amp): Include whitespaces in the remove
	ampersands filter when looking for `&' and `&&'.
	(pdf_text_substitute_line_ending): Use new line ending type, in UTF-8
	and NUL-terminated.
	(pdf_text_filter_normalize_line_endings): Use new  line ending type, in
	UTF-8 and NUL-terminated.
	(pdf_text_filter_remove_line_endings): Use new  line ending type, in
	UTF-8 and NUL-terminated.

	* src/base/pdf-text-encoding.h: Added comment on the Lang/Country
	initializer for PDF strings stating that it is a valid UTF-16BE point.

	* src/base/pdf-text-encoding.c (unicode_bom): Added comments for HE
	related BOMs.

	* src/base/pdf-text-context.h (struct pdf_text_eol_s): Redefinition of
	`pdf_text_eol_s' as a NUL-terminated string in UTF-8.

	* src/base/pdf-text-context.c (pdf_text_eol_types): System dependent 
	EOL types stored in UTF-8 and as a NUL-terminated string.
	(pdf_text_context_init): Check for return status of first call to `setlocale'.

2008-04-08  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* doc/gnupdf.texi (Text Data Types): If requested lang/country info in
	a Unicode encoding different than UTF-16BE, the function
	`pdf_text_get_unicode' will fail. PDF_TEXT_UNICODE_WITH_BOM option
	is also allowed in UTF-8.

	* doc/gnupdf-tsd.texi: Test ID `pdf_text_filter_010' was duplicated.

2008-04-08  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-proplist.c: New file.

	* src/base/pdf-text-ucd-proplist.h: New file.

	* src/Makefile.am (TEXT_MODULE_SOURCES): Added compilation of new
	`pdf-text-ucd-proplist.c' and `pdf-text-ucd-proplist.h'.

	* utils/README: Removed information about pdf-text-generate-ucd, as it
	is now in the new build-aux directory.

	* build-aux/pdf-text-generate-ucd.c: Added generation of contents in
	`pdf-text-ucd-proplist.c' and `pdf-text-ucd-proplist.h'.

2008-04-07  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Time Related Data Types): Attribute `sign'
	removed from the `pdf_time_cal_span_s' structure.

2008-04-06  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/unit/base/list/pdf-list-iterator-next.c (START_TEST):
	Cast the second argument of `pdf_list_iterator_next' to (void**).

	* Makefile.am (SUBDIRS): Descend into `build-aux/Makefile'.

	* configure.ac: Output `build-aux/Makefile'.

	* build-aux/pdf-text-generate-ucd.c: Moved from `util/'.

	* build-aux/README: New file.

	* build-aux/Makefile.am: New file.

2008-04-03  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/unit/base/text/pdf-text-get-unicode.c (START_TEST):
	Initialize counter variable 'i' to 0 before the loop (in several
	tests).

2008-04-03  Jose E. Marchesi  <jco@terma.com>

	* Clean the ChangeLog file.

2008-03-27  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.c (pdf_text_transform_he_to_unicode_encoding): Use
	`PDF_TEXT_BIG_ENDIAN' from`config.h' to check host endianness.

	* src/base/pdf-text-host-encoding.c (pdf_text_host_encoding_is_available):
	Use `PDF_TEXT_BIG_ENDIAN' from`config.h' to check host endianness.
	(pdf_text_utf32he_to_host): Use `PDF_TEXT_BIG_ENDIAN' from`config.h'
	to check host endianness.
	(pdf_text_host_to_utf32he): Use `PDF_TEXT_BIG_ENDIAN' from`config.h'
	to check host endianness.

	* src/base/pdf-text-encoding.h (pdf_text_utf32he_to_utf16le): Function
	changed to macro.
	(pdf_text_utf32he_to_utf16be): Function changed to macro.
	(pdf_text_utf16le_to_utf32he): Function changed to macro.
	(pdf_text_utf16be_to_utf32he): Function changed to macro.
	(pdf_text_utf32be_to_utf32he): Function changed to macro.
	(pdf_text_utf32le_to_utf32he): Function changed to macro.
	(pdf_text_utf32he_to_utf32be): Function changed to macro.
	(pdf_text_utf32he_to_utf32le): Function changed to macro.
	(pdf_text_utf32he_to_utf32he): Function added.
	(pdf_text_utf16he_to_utf32he): Function added.
	(pdf_text_utf32he_to_utf16he): Function added.

	* src/base/pdf-text-encoding.c (pdf_text_check_unicode_bom): Use
	`AC_C_BIGENDIAN' macro.
	(pdf_text_utf32he_to_utf16le): Function removed.
	(pdf_text_utf32he_to_utf16be): Function removed.
	(pdf_text_utf16le_to_utf32he): Function removed.
	(pdf_text_utf16be_to_utf32he): Function removed.
	(pdf_text_utf32be_to_utf32he): Function removed.
	(pdf_text_utf32le_to_utf32he): Function removed.
	(pdf_text_utf32he_to_utf32be): Function removed.
	(pdf_text_utf32he_to_utf32le): Function removed.
	(pdf_text_utf32he_to_utf32he): Function not static.
	(pdf_text_utf16he_to_utf32he): Function not static.
	(pdf_text_utf32he_to_utf16he): Function not static.

	* src/base/pdf-text-context.h (pdf_text_context_big_endian_host): Function
	removed.

	* src/base/pdf-text-context.c (pdf_text_context_big_endian_host): Function
	removed.
	(pdf_text_detect_host_endianness): Use `PDF_TEXT_BIG_ENDIAN' from
	`config.h' to set the text context endianness.

	* configure.ac: Use `AC_C_BIGENDIAN' macro to check for system
	endianness and create `PDF_TEXT_BIG_ENDIAN' definition in `config.h'.

2008-03-26  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-case.c (pdf_text_ucd_special_case_conditions):
	Function simplified to avoid a high cyclomatic complexity.

2008-03-26  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.c (pdf_text_get_unicode): Create header for unicode
	strings in a different function, to avoid a high cyclomatic complexity.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-wordbreak.c (pdf_text_ucd_wb_detect_next): Check
	each word break rule in a different function, to avoid a high cyclomatic
	complexity.

2008-03-25  gerel  <gerel@gnu.org>

	* src/base/pdf-list.h: added missing range check on
	pdf_iterator_from_to().

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.c (pdf_text_concat): No need to check for pointers
	being not NULL, as lang/country codes are not dynamically allocated.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/tsuite-text.c: New file.

	* torture/unit/base/text/pdf-text-test-data.c: New file.

	* torture/unit/base/text/pdf-text-test-common.h: New file.

	* torture/unit/base/text/pdf-text-test-common.c: New file.

	* torture/unit/base/text/pdf-text-set-unicode.c: New file.

	* torture/unit/base/text/pdf-text-set-pdfdocenc.c: New file.

	* torture/unit/base/text/pdf-text-set-language.c: New file.

	* torture/unit/base/text/pdf-text-set-host.c: New file.

	* torture/unit/base/text/pdf-text-set-country.c: New file.

	* torture/unit/base/text/pdf-text-replace.c: New file.

	* torture/unit/base/text/pdf-text-replace-ascii.c: New file.

	* torture/unit/base/text/pdf-text-new-from-unicode.c: New file.

	* torture/unit/base/text/pdf-text-new-from-u32.c: New file.

	* torture/unit/base/text/pdf-text-new-from-pdf-string.c: New file.

	* torture/unit/base/text/pdf-text-new-from-host.c: New file.

	* torture/unit/base/text/pdf-text-new-destroy.c: New file.

	* torture/unit/base/text/pdf-text-init.c: New file.

	* torture/unit/base/text/pdf-text-get-unicode.c: New file.

	* torture/unit/base/text/pdf-text-get-pdfdocenc.c: New file.

	* torture/unit/base/text/pdf-text-get-language.c: New file.

	* torture/unit/base/text/pdf-text-get-host.c: New file.

	* torture/unit/base/text/pdf-text-get-host-encoding.c: New file.

	* torture/unit/base/text/pdf-text-get-hex.c: New file.

	* torture/unit/base/text/pdf-text-get-country.c: New file.

	* torture/unit/base/text/pdf-text-get-best-encoding.c: New file.

	* torture/unit/base/text/pdf-text-empty-p.c: New file.

	* torture/unit/base/text/pdf-text-dup.c: New file.

	* torture/unit/base/text/pdf-text-concat.c: New file.

	* torture/unit/base/text/pdf-text-check-host-encoding.c: New file.

	* torture/unit/runtests.c: Added new test suite for the text module.

	* torture/unit/Makefile.am: Added compilation of text module tests.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* utils/pdf-text-generate-ucd.c: New file. Unicode Character Database 
	source generator.

	* utils/Makefile.am: Added compilation of `pdf-text-generate-ucd'.

	* utils/README: Added description of `pdf-text-generate-ucd'.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.h: New file.

	* src/base/pdf-text.c: New file.

	* src/base/pdf-text-context.h: New file.

	* src/base/pdf-text-context.c: New file.

	* src/base/pdf-text-encoding.h: New file.

	* src/base/pdf-text-encoding.c: New file.

	* src/base/pdf-text-host-encoding.h: New file.

	* src/base/pdf-text-host-encoding.c: New file.

	* src/base/pdf-text-filter.h: New file.

	* src/base/pdf-text-filter.c: New file.

	* src/base/pdf-text-ucd.h: New file.

	* src/base/pdf-text-ucd-wordbreak.h: New file.

	* src/base/pdf-text-ucd-wordbreak.c: New file.

	* src/base/pdf-text-ucd-gencat.h: New file.

	* src/base/pdf-text-ucd-gencat.c: New file.

	* src/base/pdf-text-ucd-combclass.h: New file.

	* src/base/pdf-text-ucd-combclass.c: New file.

	* src/base/pdf-text-ucd-case.h: New file.

	* src/base/pdf-text-ucd-case.c: New file.

	* configure.ac: Check for external GNU iconv library.

	* src/Makefile.am: Included compilation of text module, and modified
	public header creation to include `pdf-text.h'.

	* src/base/pdf-base.h: Included `pdf-text.h' header.

	* src/base/pdf-error.c: Included `PDF_EINVAL' error type.

	* src/base/pdf-types.h: Included 16-bit type definitions and others.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* doc/gnupdf-tsd.texi: Updated text module tests implementation.

	* doc/gnupdf.texi: Updated definition of `pdf_text_destroy'.

2008-03-24  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Output `prmgt/docfuncs' and `prmgt/tsdfuncs'.

	* prmgt/tsdfuncs.in: New file.

	* prmgt/docfuncs.in: New file.

2008-03-24  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* lib/wchar_.h: Imported from gnulib.

	* lib/stdint_.h: Imported from gnulib.

	* m4/wchar.m4: Imported from gnulib.

	* m4/ulonglong.m4: Imported from gnulib.

	* m4/stdint.m4: Imported from gnulib.

	* m4/longlong.m4: Imported from gnulib.

2008-03-17  gerel  <gerel@gnu.org>

	* torture/unit/base/list/pdf-list-add-first.c: added missing tcase.

	* doc/gnupdf-tsd.texi: added List module unit tests.

2008-03-17  Gerardo E. Gidoni <gerel@gnu.org>

	* src/base/pdf-stm.c: Adapt code to the new list API.

	* src/base/pdf-list.h: Adapt code to the new API defined in
	`gnupdf.texi'.

	* doc/gnupdf.texi (Creating and Destroying Lists): New prototype
	for `pdf_list_create'.

2008-03-15  Jose E. Marchesi  <jemarch@gnu.org>

	* README (specs): ISO 32000 added to the list of PDF
	specifications to be supported by the library.

	* src/base/pdf-list.c: New inlined version.

	* src/base/pdf-list.h: New inlined version.

2008-03-14  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (pdf.h): Get the text of the `header-autogen'
	file to be used as the header of `pdf.h'.

	* src/header-autogen: New file.

2008-03-13  Aleksander Morgado  <aleksander@es.gnu.org>

	* src/Makefile.am: Include standard file header, GPL license header and
	definition of PDF_H in the generation of the public header

2008-03-11  gerel  <gerel@gnu.org>

	* src/base/pdf-list.[ch]: cleaned the API so pdf.h doesn't
	depend on gl_list.

2008-03-10  Aleksander Morgado  <aleksander@es.gnu.org>

	* doc/gnupdf.texi: Small changes in the Encoded Text module API.

	* doc/gnupdf-tsd.texi (Text Module): New section. First list of unit tests
	for the Encoded Text module.

2008-03-09  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-stm.c (pdf_stm_apply_filters): Check for PDF_OK
	when calling `pdf_list_iterator_next'.

2008-03-07  gerel  <gerel@gnu.org>

	* src/base/pdf-list.[ch]: added first implementation.
	* src/base/pdf-stm.[ch]: adapted to use the List module.
	* src/object/pdf-obj.[ch]: Idem.
	* src/base/pdf-types.h: added pdf_bool_t.
	* src/Makefile.am: added the List module.

2008-03-06  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Move `gl_EARLY' up to the beginning of the file in
	order to avoid the `AC_USE_SYSTEM_EXTENSIONS' warnings.

2008-03-05  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* src/base/pdf-stm-mem.h: Use `pdf_size_t' instead of `size_t'.

	* src/base/pdf-stm-mem.c: Idem.

	* src/base/pdf-stm.h: Idem.

	* src/base/pdf-stm-file.c: Idem.

	* src/base/pdf-stm.c: Idem.

	* src/base/pdf-alloc.c: Idem.

	* src/base/pdf-stm-f-rl.c: Use `pdf_realloc' instead of
	`xrealloc'.

	* src/base/pdf-stm-f-lzw.c: Idem.

	* src/base/pdf-stm-f-flate.c: Idem.

	* src/base/pdf-stm-f-ahex.c: Idem.

	* src/base/pdf-stm-f-a85.c (pdf_stm_f_a85_decode): Idem.

	* src/Makefile.am (PUBLIC_HDRS): Public contents in `pdf-types.h'
	should be extracted before the public contents of `pdf-alloc.h'.

	* src/base/pdf-alloc.h: Some included header files moved to
	`pdf-alloc.c'.

	* src/base/pdf-types.h: Define `pdf_size_t'

2008-03-02  gerel  <gerel@gnu.org>

	* doc/gnupdf.texi: small error management fix.

2008-02-29  gerel  <gerel@gnu.org>

	* configure.ac: added debug mode options.

2008-02-28  gerel  <gerel@gnu.org>

	* src/base/pdf-error.h: PDF_DEBUG_* fix (##__VA_ARGS__)

2008-02-27  gerel  <gerel@gnu.org>

	* src/base/pdf-error.h: fixed PDF_DEBUG_* empty macros

2008-02-27  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-error.h: Include stdio.h

	* src/base/pdf-base.h: Include pdf-error.h

	* src/base/pdf-types.h: Remove PDF_OK and PDF_ERROR. These are now
	implemented in pdf-error.[ch]

2008-02-24  gerel  <gerel@gnu.org>

	* src/base/pdf-error.[ch] (Error management): added first implementation.

2008-02-24  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf-tsd.texi: New file.

2008-02-23  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/unit/Makefile.am (clean-local): Remove `ut.log' upon
	`make clean'.

	* torture/unit/runtests.c (main): Dump a test execution log to
	`ut.log'.

	* doc/Makefile.am (noinst_TEXINFOS): New primary for
	gnupdf-tsd.texi.

	* doc/gnupdf-tsd.texi: New file.

2008-02-22  Gerardo E. Gidoni <gerel@gnu.org>

	* doc/gnupdf.texi (Error management): Initial API definition.

2008-02-22  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-types.h: Remove obsolete contents.

	* src/base/pdf-base.h: Include pdf-alloc headers.

	* src/base/pdf-base.c: Unused headers removed.

	* doc/gnupdf.texi (Memory Allocation): Use `void*' as the pointer
	types.

	* src/base/pdf-alloc.c (pdf_alloc): New function.
	(pdf_dealloc): New function.
	(pdf_realloc): New function.

	* src/base/pdf-alloc.h: New file.

	* src/base/pdf-alloc.c: New file.

2008-02-21  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/Makefile.am: Do not generate menus in wiki output.

	* doc/gnupdf-manual-wiki.init (mediawiki_preformatted): Do not
	emit preformatted code for navigation menus.
	Use the `Template:Note' mediawiki template to advertise that the
	page is automatically generated.

	* doc/Makefile.am: Do not split wiki output.

	* prmgt/pmccabe2html.in: Copyright notice of the generated html
	page updated.

	* prmgt/Makefile.am (cyclo.html): Use sources from `src/base'.

	* src/Makefile.am: Do not remove `src/extract-public-hdr' upon
	`make clean'.

	* prmgt/Makefile.am: Enable the building of project management
	resources even without having a working taskjuggler program.

	* configure.ac: Use an automake conditional `TASKJUGGLER'.

	* prmgt/Makefile.am (clean-local): Do not remove
	autoconf-generated `pmccabe2html' upon `make clean'.

2008-02-20  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* doc/gnupdf.texi (Memory Allocation): `pdf_alloc' API changed in
	order to return NULL if an out of memory condition is met.

2008-02-16  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Print out an explanation about the selected
	compilation level while reporting configuration results.

2008-02-11  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am (clean-local): Remove `temporal-test-file'
	upon `make clean'.

	* prmgt/Makefile.am (clean-local): Remove `pmccabe2html' upon
	`make clean'.

	* src/Makefile.am (clean-local): Remove `extract-public-hdr' upon
	`make clean'.

	* Update copyright notices.
	* Sources reorganization.

2008-01-30  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Big Numbers): New section.

2008-01-28  Aleksander Morgado  <aleksander@es.gnu.org>

	* doc/gnupdf.texi (Initializing Text Module): New section.
	(Managing Host Encodings): New section
	(Text Data Types): New `pdf_text_unicode_options_e' type.
	Removed specific data types for unicode encodings.
	Updated information on `pdf_text_unicode_encoding_e',
	`pdf_text_t', `pdf_text_host_encoding_t' data types.
	(Creating and Destroying Text): Added `pdf_text_destroy' function.
	Updated function prototypes and information.
	(Managing Text Properties): Updated function prototypes and
	information.
	(Managing Text Contents): Updated function prototypes and
	information.

2008-01-25  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (List Data Types): New section.
	(Creating and Destroying Lists): New section.
	(Managing List Properties): New section.
	(Searching for List Elements): New section.
	(Setting and Getting List Elements): New section.
	(Adding and Removing List Elements): New section.
	(Working with Iterators): New section.

2008-01-20  Jose E. Marchesi  <jemarch@gnu.org>

	* src/*.[ch]: Author field removed from header.

	* doc/gnupdf.texi (Boolean Types): New section.
	(Status Types): New section.
	(Numeric Types): New section.
	(Creating and Destroying Text): Removed the reference to leading
	zeroes in the arguments to `pdf_text_new_from_u32'.
	Brace @deftp arguments with spaces inside it.

2008-01-13  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi: Returns sections fixed.
	(Creating and Destroying Hash Tables): New section.

2008-01-12  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi: Use @var for all actual parameters in function
	definitions.

2008-01-11  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Managing Text Properties): New section.
	(Managing Text Contents): New section.
	(Comparing Text Variables): New section.

2008-01-08  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Time Management): minor fixes.

2008-01-06  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/libgnupdf.tjp: Project plan updated.

	* prmgt/pmccabe2html.in: HTML prolog and footer changed.

2007-12-27  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Encoded Text): New section.
	(Text Data Types): New section.
	(Creating and Destroying Text): New section.

2007-12-22  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/libgnupdf.tjp: New version.

2007-12-21  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Time Span Creation and Destruction): New section.
	(Managing Time Span Values): New section.
	(Time Span Comparison): New section.
	(Calendar Spans Management): New section.

2007-12-20  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Check for `makeinfo'.
	Fix the checking of programs where they are missing.

	* torture/Makefile.am (testall.c): Include all the files specified
	in the TEST_FILES variable in the `generate_testall' call.

	* doc/gnupdf.texi (Time Related Data Types): New section.
	(Time Management): New section.

2007-12-17  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Floating Point Types): New section.
	(Point Manipulation Functions): New section.
	(Quadrilateral Manipulation Functions): New section.
	(Rectangle Manipulation Functions): New section.
	(Matrix Manipulation Functions): New section.
	(Interpolation Functions): New section.

2007-12-07  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/README: Typo fixed.

2007-12-06  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/test_stm_module.c: New file.

	* torture/generate_testall: New file.

2007-11-29  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Memory Allocation): New section.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_xref.[ch]' removed.

2007-11-26  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi: New function `pdf_realloc'.

2007-11-26  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* doc/gnupdf.texi (Top): 'Basic Layer' -> 'Base Layer'.

2007-11-22  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* doc/Makefile.am (wiki): New target.
	(gnupdf.wiki): New target.
	(gnupdf-utils.wiki): New target.

	* doc/gnupdf-manual-wiki.init: New file.

2007-11-20  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* configure.ac: Check for awk and set the output variable
	`PATH_TO_AWK'.

	* prmgt/pmccabe2html.in: Renamed from `pmccabe2html'.

2007-11-19  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/Makefile.am: Reorganization.
	Add rules for new target `cyclo.html'.

	* prmgt/pertfdp.xsl: New file.

	* prmgt/pertdot.xsl: New file.

	* prmgt/pmccabe2html: New file.

	* prmgt/pmccabe.css: New file.

2007-11-18  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Check for graphviz's `dot' and `fdp' programs.

2007-11-17  Jose E. Marchesi  <jemarch@gnu.org>

	* Makefile.am (SUBDIRS): Added `prmgt'.

	* prmgt/Makefile.am: New file.

	* configure.ac: Check for the `taskjuggler' program.

2007-11-16  Jose E. Marchesi  <jemarch@gnu.org>

	* AUTHORS: Karl Berry added.

	* configure.ac: Check for the `texi2html' program.

	* doc/Makefile.am: Use texi2html if available for the html
	target.

	* doc/manuals.css: New file.

	* doc/gnupdf-manual.init: New file.

2007-11-08  Jose E. Marchesi  <jemarch@gnu.org>

	* bootstrap (cmd): Make autoreconf to install missing files.

2007-11-07  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am: Use the `CHECK' conditional to determine if
	we should compile and run the test suite.

	* configure.ac: `PKG_CHECK_MODULES' substitued with the checking
	of the library. Define an Automake conditional `CHECK'.

2007-11-07  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* configure.ac: Use `PKG_CHECK_MODULES' instead of `AM_CHECK' for
	the `check' package.

2007-11-06  Mathias Kolehmainen  <mathiask@computer.org>

	* torture/Makefile.am: Adapt to use check.

	* torture/test-base.c: Idem.

	* torture/test-date.c: Idem.

	* torture/test-libinit.c: Idem.

	* torture/test-obj_array.c: Idem.

	* torture/test-obj_createdestroy.c: Idem.

	* torture/test-obj_dict.c: Idem.

	* test-obj_dupequality.c: Idem.

	* test-rectangle: Idem.

	* test-stm_openclose.c: Idem.

	* torture/testall.c: New file.

2007-11-06  Jose E. Marchesi  <jemarch@gnu.org>

	* AUTHORS: Added Mathias Kolehmainen.

2007-11-06  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* src/pdf.c: Add `program_name' global variable in order to
	compile in non-glibc systems.

2007-11-01  Jose E. Marchesi  <jemarch@gnu.org>

	* README.cvs: New file.

2007-10-31  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf_util.texi: New file.

	* doc/Makefile.am (man_MANS): Added `pdf_filter.1'.

	* utils/pdf_filter.c: --version option now works.

	* bootstrap (cmd): Use autoreconf instead of the explicit chain.

	* src/pdf_stm_mem.c: Include `malloc.h' only when available.

	* src/pdf_stm_file.c: Idem.

	* src/pdf_stm_f_rl.c: Idem.

	* src/pdf_stm_f_pred.c: Idem.

	* src/pdf_stm_f_null.c: Idem.

	* src/pdf_stm_f_lzw.c: Idem.

	* src/pdf_stm_f_flate.c: Idem.

	* src/pdf_stm_f_fax.c: Idem.

	* src/pdf_stm_f_ahex.c: Idem.

	* src/pdf_stm_f_a85.c: Idem.

	* src/pdf_stm.c: Idem.

	* src/pdf_rectangle.c: Idem.

	* src/pdf_obj.c: Idem.

	* src/pdf_function.c: Idem.

	* src/pdf_date.c: Idem.

	* src/pdf_base.c: Idem.

	* configure.ac: Check for `malloc.h'.

	* `malloc' and `getline' modules imported from gnulib.

2007-10-23  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_mem.c (pdf_stm_mem_readpeek_char): Added missing
	negation in expression.

2007-10-23  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* utils/pdf_filter.h: New copyright holder: FSF.

	* utils/pdf_filter.c: Idem.

	* utils/Makefile.am: Idem.

	* torture/test-stm_openclose.c: Idem.

	* torture/test-rectangle.c: Idem.

	* torture/test-obj_dupequality.c: Idem.

	* torture/test-obj_dict.c: Idem.

	* torture/test-obj_createdestroy.c: Idem.

	* torture/test-obj_array.c: Idem.

	* torture/test-libinit.c: Idem.

	* torture/test-date.c: Idem.

	* torture/test-base.c: Idem.

	* torture/Makefile.am: Idem.

	* src/pdf_xref.h: Idem.

	* src/pdf_xref.c: Idem.

	* src/pdf_stm_mem.h: Idem.

	* src/pdf_stm_mem.c: Idem.

	* src/pdf_stm.h: Idem.

	* src/pdf_stm_f_rl.h: Idem.

	* src/pdf_stm_f_rl.c: Idem.

	* src/pdf_stm_f_pred.h: Idem.

	* src/pdf_stm_f_pred.c: Idem.

	* src/pdf_stm_f_null.h: Idem.

	* src/pdf_stm_f_null.c: Idem.

	* src/pdf_stm_f_lzw.h: Idem.

	* src/pdf_stm_f_lzw.c: Idem.

	* src/pdf_stm_file.h: Idem.

	* src/pdf_stm_file.c: Idem.

	* src/pdf_stm_f_flate.h: Idem.

	* src/pdf_stm_f_flate.c: Idem.

	* src/pdf_stm_f_fax.h: Idem.

	* src/pdf_stm_f_fax.c: Idem.

	* src/pdf_stm_f_ahex.h: Idem.

	* src/pdf_stm_f_ahex.c: Idem.

	* src/pdf_stm_f_a85.h: Idem.

	* src/pdf_stm_f_a85.c: Idem.

	* src/pdf_stm.c: Idem.

	* src/pdf_rectangle.h: Idem.

	* src/pdf_rectangle.c: Idem.

	* src/pdf_obj.h: Idem.

	* src/pdf_obj.c: Idem.

	* src/pdf.h: Idem.

	* src/pdf_function.h: Idem.

	* src/pdf_function.c: Idem.

	* src/pdf_date.h: Idem.

	* src/pdf_date.c: Idem.

	* src/pdf.c: Idem.

	* src/pdf_base.h: Idem.

	* src/pdf_base.c: Idem.

	* src/Makefile.am: Idem.

	* Makefile.am: Idem.

	* doc/gnupdf.texi: Idem.

	* doc/Makefile.am: Idem.

	* configure.ac: Idem.

2007-10-15  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* src/pdf_obj.c (pdf_array_equal_p): Set `equal_p' to `PDF_FALSE'
	in element inequality.

2007-09-20  Jose E. Marchesi  <jemarch@gnu.org>

	* AUTHORS: New format.

2007-09-18  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am (noinst_PROGRAMS): Added
	`test-stm_readwrite'.
	(TESTS): Added `test-stm_readwrite'.

	* torture/test-stm_readwrite.c (main): New file.

2007-09-15  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm.c (pdf_stm_read_char): New function.
	(pdf_stm_peek_char): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added `pdf_lexer.h' and
	`pdf_lexer.c'.

	* src/pdf_lexer.c: New file.

	* src/pdf_lexer.h: New file.

	* src/pdf.c (pdf_alloc_names): Duplicated allocation fixed.

	* src/pdf_obj.c (pdf_create_dict_entry): Insert a dictionary entry
	in the entries list, not just the value.

	* torture/Makefile.am (noinst_PROGRAMS): Added `test-obj_dict'.
	(TESTS): Added `test-obj_dict'.

	* torture/test-obj_dict.c: New file.

2007-09-14  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_pred.c: Update copyright and author notice.

	* src/pdf_stm_f_pred.h: Update copyright and author notice.

	* src/pdf_stm_f_lzw.c: Update copyright and author notice.

	* src/pdf_stm_f_lzw.h: Update copyright and author notice.

	* torture/Makefile.am (TESTS): Added `test-libinit'
	(noinst_PROGRAMS): Added `test-libinit'

	* torture/test-libinit.c: New file.

	* src/pdf.c (pdf_dealloc_names): New function.
	(pdf_alloc_names): New function.
	(pdf_finish): New function.
	(pdf_init): New function.

	* src/pdf.h (struct pdf_globals_s): New globals data type to store
	library global information.

	* src/pdf_base.h: Added macros for PDF names preallocation.

2007-09-12  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_rectangle.c (pdf_create_rectangle): Avoid to call
	`pdf_rectangle_set_ll'.

2007-09-11  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_function.h' and
	`pdf_function.c' added.

	* src/pdf_function.h: New file.

	* src/pdf_function.c: New file.

	* src/pdf_stm_file.c (pdf_stm_file_size): Use NO_POS.

	* src/pdf_obj.c (pdf_create_stream): New function.
	(pdf_get_stream_stm): New function.
	(pdf_get_stream_data): New function.
	(pdf_stream_equal_p): New function.
	(pdf_stream_dup): New function.

	* configure.ac: Check for `-lm'.

	* src/pdf_base.c (pdf_interp_lineal): New function.
	(pdf_interp_exp_coef_m): New function.
	(pdf_interp_exp_coef_k): New function.
	(pdf_interp_exp): New function.

2007-09-09  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am (noinst_PROGRAMS): `test-rectangle' added.
	(TESTS): `test-rectangle' added.

	* torture/test-rectangle.c: New file.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_rectangle.c' and
	`pdf_rectangle.h' added.

	* src/pdf_base.c (pdf_create_point): New function.
	(pdf_destroy_point): New function.

	* src/pdf_base.h: New `pdf_point_t' type.

	* src/pdf_rectangle.c: New file.

	* src/pdf_rectangle.h: New file.

	* torture/test-date.c (main): Initialize `success' to `PDF_TRUE'.

2007-09-08  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am (TESTS): Added `test-date'.
	(noinst_PROGRAMS): Added `test-date'.

	* src/pdf_date.c (pdf_date_ut_offset_hour): New function.
	(pdf_date_ut_offset_minute): New function.

	* torture/test-base.c: New file.

	* src/pdf_date.c (pdf_date_parse): New function.

	* src/pdf_base.c (pdf_str2double): New function.
	(pdf_str2int): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added `pdf_base.c' and
	`pdf_base.h'.

	* src/pdf_base.c (pdf_str2long): New function.

	* src/pdf_base.h: Include `config.h' first.
	String utilities prototypes added.

	* AUTHORS (Contributors): Added raskolnikov@es.gnu.org

	* src/pdf_date.h: Added an explanation about the date objects.

	* src/pdf_obj.h: Fixed a typo in comment.

2007-09-07  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_date.c (pdf_date_second): `pdf_date_get_FOO'
	functions shortened to `pdf_date_FOO'.

2007-09-06  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_date.c (pdf_date_destroy): New function.
	(pdf_date_get_year): New function.
	(pdf_date_set_year): New function.
	(pdf_date_get_month): New function.
	(pdf_date_set_month): New function.
	(pdf_date_get_day): New function.
	(pdf_date_set_day): New function.
	(pdf_date_get_hour): New function.
	(pdf_date_set_hour): New function.
	(pdf_date_get_minute): New function.
	(pdf_date_set_minute): New function.
	(pdf_date_get_second): New function.
	(pdf_date_set_second): New function.

2007-09-05  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_date.h' and
	`pdf_date.c' added.

	* src/pdf_date.c (pdf_date_alloc): New function.
	(pdf_date_dealloc): New function.
	(pdf_date_new_value): New function.

	* src/pdf_date.h: New file.

	* utils/pdf_filter.c: Fix incorrect help entry for the predictor
	decoder option.

2007-09-05  Juan Pedro Bolívar Puente <raskolnikov@es.gnu.org>

	* src/pdf_stm_f_lzw.c: Fully implemented the LZW filter for both
	encoding and decoding.

	* src/pdf_stm_f_pred.c: Solved a bug in the order in which bytes
	where written when packing tiff pixels.

	* utils/pdf_filter.c: Now lzw and predictor filters can get their
	arguments from the command line.

2007-08-15  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm.c (pdf_stm_install_lzwenc_filter): New function.
	(pdf_stm_install_lzwdec_filter): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added lzw filter sources.

	* src/pdf_stm_f_lzw.c: New file.
	(pdf_stm_f_lzw_init): New function.
	(pdf_stm_f_lzw_apply): New function.
	(pdf_stm_f_lzw_dealloc): New function.
	(pdf_stm_f_lzw_encode): New function.
	(pdf_stm_f_lzw_decode): New function.

	* src/pdf_stm_f_lzw.h: New file.

2007-08-05  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_fax.c (pdf_stm_f_fax_dealloc): New function.

	* src/pdf_stm.c (pdf_stm_install_faxenc_filter): New function.
	(pdf_stm_install_faxdec_filter): New function.

	* src/pdf_stm.h: New prototype for the fax filter.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added fax filter source
	files.

	* src/pdf_stm_f_fax.c: New file.
	(pdf_stm_f_fax_init): New function.
	(pdf_stm_f_fax_apply): New function.
	(pdf_stm_f_fax_encode): New function.
	(pdf_stm_f_fax_decode): New function.

	* src/pdf_stm_f_fax.h: New file.

2007-07-31  Jose E. Marchesi  <jemarch@gnu.org>

	* utils/pdf_filter.c (GNU_longOptions): Predictor command line
	arguments.

2007-07-28  Juan Pedro Bolívar Puente <raskolnikov@es.gnu.org>

	* src/pdf_stm_f_pred.c: PNG and TIFF predictor filters
	implemented.

	* src/pdf_stm_f_pred.h: Changed filter types, added filter
	modes (encoding or decoding) and such things needed by the filter
	implementation.

	* util/pdf_filter.c: Added an entry with hardcoded params to test
	the predictor filter.

2007-07-22  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_ahex.c: Missing headers added.
	(pdf_stm_f_ahex_white_p): Conform to GCS.

	* src/pdf_stm_f_rl.c (pdf_stm_f_rl_encode): Fix input pointer
	position in the loop.
	(pdf_stm_f_rl_encode): Fix the upper bound of output size.

2007-07-15  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_rl.h' and
	`pdf_stm_f_rl.c' added.

	* src/pdf_stm.c (pdf_stm_install_rldec_filter): New function.
	(pdf_stm_install_rlenc_filter): New function.

	* src/pdf_stm_f_rl.c: New file.

	* src/pdf_stm_f_rl.h: New file.

	* src/pdf_stm_f_a85.c: New file.

	* src/pdf_stm_f_a85.h: New file.

	* src/pdf_stm_f_flate.c: Renamed from src/pdf_stm_f_fdec.c

	* src/pdf_stm_f_flate.h: Renamed from src/pdf_stm_f_fdec.h

	* src/pdf_stm.c (pdf_stm_install_flateenc_filter): New function.

2007-07-14  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_ahex.c (pdf_stm_f_ahex_encode): Fix indirection.

2007-07-13  Jose E. Marchesi  <jemarch@gnu.org>

	* utils/pdf_filter.c (main): Added support for ascii hex decoder.

	* src/pdf_stm.c (pdf_stm_install_ahexdec_filter): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_ahdec.h' and
	`pdf_stm_f_ahdec.c' added.

	* src/pdf_stm_f_ahdec.c (pdf_stm_f_ahdec_apply): New file.

	* src/pdf_stm_f_ahdec.h: New file.

	* src/pdf_stm_file.c (pdf_stm_file_peek): Interface changed.

	* src/pdf_stm_mem.c: Interface changed.

2007-07-12  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm.h: Changed interface.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_pred.h' and
	`pdf_stm_f_pred.c' added.

	* src/pdf_stm_f_pred.c (pdf_stm_f_pred_init): New function.
	(pdf_stm_f_pred_apply): New function.
	(pdf_stm_f_pred_dealloc): New function.

	* src/pdf_stm_f_pred.h: New file.

2007-07-11  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_fdec.h (struct pdf_stm_f_fdec_conf_s):
	Configuration parameters added.
	(enum pdf_stm_f_fdec_pred): Added.

2007-07-11  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* utils/pdf_filter.c (main): Use the fdec filter conditionally.

	* src/Makefile.am (libgnupdf_la_SOURCES): Add fdec sources
	conditionally.

	* src/pdf_stm.c: Make the fdec filter conditional.

	* m4/getopt.m4: Imported from gnulib.

2007-07-10  Jose E. Marchesi  <jemarch@gnu.org>

	* m4/zlib.m4 (ZLIB_HOME): Imported from the autoconf macro
	archive (by Loic Dachary).

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_fdec.h' and
	`pdf_stm_f_fdec.c' added.

	* src/pdf_stm.c (pdf_stm_install_fdec_filter): New function.
	Include `stm_stm_f_fdec.h'.

	* src/pdf_stm_f_fdec.c (pdf_stm_f_fdec_apply): New file.

	* src/pdf_stm_f_fdec.h: New file.

	* src/pdf_stm.c (pdf_create_mem_stm): Install the close hook.

	* src/pdf_stm_mem.c (pdf_stm_mem_init): Manage `resize_p'.
	(pdf_stm_mem_write): Manage `resize_p'.

	* utils/pdf_filter.c (main): Added dummy main function.

	* configure.ac: `utils' added.

	* Makefile.am (SUBDIRS): `utils' added.

	* utils/pdf_filter.h: New file.

	* utils/pdf_filter.c: New file.

	* utils/README: New file.

2007-07-10  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* src/pdf_stm.c (pdf_stm_close): Fix argument.

2007-07-09  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/test-stm_openclose.c (main): New file.

	* src/pdf_stm.c (pdf_create_mem_stm): New function.
	(pdf_stm_uninstall_filters): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_null.c' and
	`pdf_stm_f_null.h' added.

	* src/pdf_stm_f_null.c (pdf_stm_f_null_init): New function.
	(pdf_stm_f_null_apply): New function.
	(pdf_stm_f_null_dealloc): New function.

	* src/pdf_stm.c (pdf_create_file_stm): New function.
	(pdf_stm_alloc): New function.
	(pdf_stm_dealloc): New function.
	(pdf_stm_install_filter): New function.
	(pdf_stm_filter_dealloc_list): New function.
	(pdf_stm_apply_filters): New function.

	* src/pdf_stm_f_null.c: New file.

	* src/pdf_stm_f_null.h: New file.

2007-07-08  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (AM_CFLAGS): `-Wall' added.
	(libgnupdf_la_SOURCES): Changed io to stream.

2007-07-07  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (libgnupdf_la_SOURCES): Added `pdf_xref.h' and
	`pdf_xref.c'.

	* src/pdf_xref.c: New file.

	* src/pdf_xref.h: New file.

	* src/pdf_obj.c (pdf_get_bool): New function.
	(pdf_set_bool): New function.
	(pdf_get_int): New function.
	(pdf_set_real): New function.
	(pdf_get_real): New function.
	(pdf_set_int): New function.
	(pdf_get_string_size): New function.
	(pdf_get_string_data): New function.
	(pdf_get_name_size): New function.
	(pdf_get_name_data): New function.
	(pdf_get_array_size): New function.
	(pdf_get_dict_size): New function.
	(pdf_obj_equal_p): New function.
	(pdf_string_equal_p): New function.
	(pdf_string_equal_p): New function.
	(pdf_compare_obj_list_elt): Use `pdf_obj_equal_p'.
	(pdf_obj_dup): New function.
	(pdf_array_dup): New function.
	(pdf_dict_dup): New function.
	(pdf_remove_array_elt): New function.
	(pdf_get_array_elt): New function.
	(pdf_set_array_elt): New function.
	(pdf_add_array_elt): New function.
	(pdf_dict_entry_p): New function.
	(pdf_get_dict_entry): New function.
	(pdf_remove_dict_entry): New function.
	(pdf_create_dict_entry): New function.
	(pdf_append_array_elt): New function.

	* torture/Makefile.am: New testsuite, `test-obj_createdestroy'.

	* torture/test-obj_createdestroy.c: New file.

	* src/pdf_obj.c (pdf_create_dict): Disallow duplicates in
	dictionary.
	(pdf_destroy_obj): New function.

	* configure.ac: Added `doc/Makefile' to output files.

	* src/pdf_obj.c (pdf_create_null): New function.
	(pdf_alloc_obj): New function.
	(pdf_create_boolean): New function.
	(pdf_create_int): New function.
	(pdf_create_real): New function.
	(pdf_create_string): New function.
	(pdf_create_array): New function.
	(pdf_create_dict): New function.
	(pdf_create_indirect): New function.
	(pdf_dealloc_obj): New function.
	(pdf_list_dealloc_obj): New function.
	(pdf_alloc_dict_entry): New function.
	(pdf_dealloc_dict_entry): New function.
	(pdf_list_dealloc_dict_entry): New function.
	(pdf_dealloc_dict_entry_list_elm): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_obj.c' added.

	* src/pdf_obj.c: New file.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_obj.h' added.

	* src/pdf_obj.h: New file.

	* torture/test-io_openclose.c (main): Added file size retrieving
	test.

2007-07-06  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Check for `off_t'.
	Check for `fseeko' availability.

	* src/pdf_io.c (pdf_io_tell): New function.
	(pdf_io_write): New function.

	* src/pdf_base.h: New file.

	* src/pdf_io.c (pdf_io_close): New function.
	(pdf_io_seek_beg): New function.
	(pdf_io_seek_cur): New function.
	(pdf_io_seek_end): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added `pdf_io.c' and
	`pdf_io.h'.
	(AM_CPPFLAGS): Added the gnulib imported directory.

	* src/pdf_io.c (pdf_io_open_file): New function.

	* m4/xalloc.m4: Imported from gnulib.

	* m4/unistd_h.m4: Imported from gnulib.

	* m4/stdlib_h.m4: Imported from gnulib.

	* m4/onceonly_2_57.m4: Imported from gnulib.

	* m4/inline.m4: Imported from gnulib.

	* m4/include_next.m4: Imported from gnulib.

	* m4/gnulib-tool.m4: Imported from gnulib.

	* m4/gnulib-comp.m4: Imported from gnulib.

	* m4/gnulib-common.m4: Imported from gnulib.

	* m4/gnulib-cache.m4: Imported from gnulib.

	* m4/exitfail.m4: Imported from gnulib.

	* m4/error.m4: Imported from gnulib.

	* lib/xmalloc.c: Imported from gnulib.

	* lib/xalloc.h: Imported from gnulib.

	* lib/xalloc-die.c: Imported from gnulib.

	* lib/unistd_.h: Imported from gnulib.

	* lib/stdlib_.h: Imported from gnulib.

	* lib/Makefile.am: Imported from gnulib.

	* lib/gettext.h: Imported from gnulib.

	* lib/exitfail.h: Imported from gnulib.

	* lib/exitfail.c: Imported from gnulib.

	* lib/error.h: Imported from gnulib.

	* lib/error.c: Imported from gnulib.

	* Makefile.am (ACLOCAL_AMFLAGS): Mention "-I m4".
	(SUBDIRS): Added "lib" subdirectory.

	* configure.ac: New gnulib macros.

	* src/pdf_io.c: New file.

	* src/pdf_io.h: New file.

2007-07-05  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf.c: New file.

	* src/pdf.h: End of file comment added.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf.h' should be
	installed.

	* bootstrap: `libtoolize' added.

	* .cvsignore: New file.

	* src/Makefile.am (lib_LTLIBRARIES): add `lib_' prefix to
	LTLIBRARIES primary.

	* bootstrap: New file.

	* AUTHORS: New file.

	* NEWS: New file.

	* src/pdf.h: New file.

	* ChangeLog started.


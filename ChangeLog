2008-04-13  gerel  <gerel@gnu.org>

	* doc/gnupdf-tsd.texi: added missing List module tests.

	* torture/unit/Makefile.am: Idem.

	* torture/unit/base/list/tsuite-list.c: Idem.

	* src/base/pdf-list.h: added sorted list functions.

	* torture/unit/base/list/pdf-list-create.c: added comparision funcs.

	* torture/unit/base/list/pdf-list-sorted-add.c: initial add

	* torture/unit/base/list/pdf-list-sorted-remove.c: initial add

	* torture/unit/base/list/pdf-list-sorted-indexof-from-to.c: initial add

	* torture/unit/base/list/pdf-list-sorted-indexof.c: initial add

	* torture/unit/base/list/pdf-list-sorted-search-from-to.c: initial add

	* torture/unit/base/list/pdf-list-sorted-search.c: initial add

2008-04-13  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/pdf-text-filter.c: Remove compilation warning.

	* torture/unit/base/text/pdf-text-cmp.c: New file. Tests for
	`pdf_text_cmp'.

	* torture/unit/base/text/tsuite-text.c (tsuite_text): Added execution of
	tests for `pdf_text_cmp'.

	* torture/unit/Makefile.am (TEST_SUITE_TEXT): Added compilation of tests
	for `pdf_text_cmp'.

	* src/base/pdf-text-ucd-case.c (pdf_text_ucd_create_case_context): Bug
	corrected. Set default language code as an empty string in the case
	context when no specific language code is stored in the pdf_text_t.

	* src/base/pdf-text.c (pdf_text_cmp): Function splitted into a new
	static one when non case sensitive.

2008-04-13  Jose E. Marchesi  <jemarch@gnu.org>

	* lib/gl_linkedhash_list.h: Imported from gnulib.

	* lib/gl_linkedhash_list.c: Imported from gnulib.

	* lib/gl_anylinked_list2.h: Imported from gnulib.

	* lib/gl_anylinked_list1.h: Imported from gnulib.

	* lib/gl_anyhash_list2.h: Imported from gnulib.

	* lib/gl_anyhash_list1.h: Imported from gnulib.

2008-04-13  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/pdf-text-filter.c: New file. Tests for
	`pdf_text_filter'.

	* torture/unit/base/text/tsuite-text.c (tsuite_text): Added execution of
	tests for `pdf_text_filter'.

	* torture/unit/Makefile.am (TEST_SUITE_TEXT): Added compilation of tests
	for `pdf_text_filter'.

2008-04-13  Jose E. Marchesi  <jemarch@gnu.org>

	* AUTHORS: Clean up.

2008-04-13  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-case.c (pdf_text_ucd_After_Soft_Dotted): Check
	for Soft_Dotted property before checking combining class.
	(pdf_text_ucd_After_I): Check for unicode point being 0x49 before
	checking combining class.
	(pdf_text_ucd_word_change_case): Bugfix. A given unicode point can even
	disappear after a change of case, so `new_char_size' can be zero.

2008-04-13  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Opening and Closing Files): New section.
	(Filesystem Data Types): New section.
	(Folder Management): New section.
	(Opening and Closing Files Implementation): New section.
	(Folder Management Implementation): New section.
	(File Data Types): New section.
	(Synchronous Input/Output Implementation): New section.
	(Synchronous Input/Output): New section.

2008-04-13  gerel  <gerel@gnu.org>

	* doc/gnupdf.texi: updated List Module types and added missing
	functions.

2008-04-12  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-case.c (pdf_text_ucd_is_case_ignorable): New
	Unicode 5.1 standard updates the definition of `Case ignorable' code
	points.

2008-04-12  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-wordbreak.h: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-wordbreak.c: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-proplist.c: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-gencat.c: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-combclass.c: Updated to Unicode 5.1.

	* src/base/pdf-text-ucd-case.c: Updated to Unicode 5.1. Also modified
	the way special case conditions are found (new direct access to special
	casing info in the simple casing info array).

2008-04-12  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* build-aux/pdf-text-download-and-generate-ucd.sh: New script to
	download with `wget' the needed UCD files and generate all source files
	from latest Unicode Character Database.

	* build-aux/pdf-text-generate-ucd.c: Improved the information generated
	by the tool, and prepared for new official version of Unicode (5.1).

	* build-aux/README: Added information about new script
	pdf-text-download-and-generate-ucd.sh

2008-04-10  gerel  <gerel@gnu.org>

	* doc/gnupdf.texi: added Hash Module API.

2008-04-09  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Filesystem Concepts): New section.
	(Filesystem Interfaces): New section.
	(The Filesystem Implementation Interface): New section.
	(The Filesystem Definition Interface): New section.
	(The Filesystem Interface): New section.
	(The File Interface): New section.

2008-04-09  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/pdf-text-set-language.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-set-country.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-replace-ascii.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-new-from-u32.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-new-from-pdf-string.c: Avoid memory
	leaks in tests.

	* torture/unit/base/text/pdf-text-new-from-host.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-get-unicode.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-get-language.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-get-hex.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-get-country.c: Avoid memory leaks in
	tests.

	* torture/unit/base/text/pdf-text-empty-p.c: Avoid memory leaks in
	tests.

	* src/base/pdf-text.c (pdf_text_replace): Avoid memory leak.

	* src/base/pdf-text-host-encoding.c (pdf_text_host_to_utf32he): Avoid
	memory leak.

2008-04-08  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.c (pdf_text_get_unicode): Only store output data if
	it is available.
	(pdf_text_replace): Improved the way replacements are done. If size of
	replacement is not equal, a list of pointers to the patterns is stored
	in the first loop, and then replacements are done in the second loop.
	(pdf_text_get_unicode_string_header): Check for pointers being not NULL.
	(pdf_text_fill_word_boundaries_list): Correct way to store word
	boundaries in the `pdf_list_t'. Elements of the list must be allocated with
	pdf_alloc, as the list module doesn't make a copy of the element, it
	just adds the reference in the list.

	* src/base/pdf-text-ucd.h: Include `pdf-text-ucd-proplist.h'.

	* src/base/pdf-text-ucd-wordbreak.c (pdf_text_ucd_wb_in_interval): Bug
	in interval limits corrected.

	* src/base/pdf-text-ucd-case.c: Added `After_I' and `After_Soft_Dotted'
	context conditions. Also minor bugfixes in casing context creation.

	* src/base/pdf-text-filter.c (pdf_text_filter_change_case): Use 
	`UCD_SC_MAX_EXPAND'. Also minor bugfix setting correct final data size.
	(pdf_text_filter_remove_amp): Include whitespaces in the remove
	ampersands filter when looking for `&' and `&&'.
	(pdf_text_substitute_line_ending): Use new line ending type, in UTF-8
	and NUL-terminated.
	(pdf_text_filter_normalize_line_endings): Use new  line ending type, in
	UTF-8 and NUL-terminated.
	(pdf_text_filter_remove_line_endings): Use new  line ending type, in
	UTF-8 and NUL-terminated.

	* src/base/pdf-text-encoding.h: Added comment on the Lang/Country
	initializer for PDF strings stating that it is a valid UTF-16BE point.

	* src/base/pdf-text-encoding.c (unicode_bom): Added comments for HE
	related BOMs.

	* src/base/pdf-text-context.h (struct pdf_text_eol_s): Redefinition of
	`pdf_text_eol_s' as a NUL-terminated string in UTF-8.

	* src/base/pdf-text-context.c (pdf_text_eol_types): System dependent 
	EOL types stored in UTF-8 and as a NUL-terminated string.
	(pdf_text_context_init): Check for return status of first call to `setlocale'.

2008-04-08  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* doc/gnupdf.texi (Text Data Types): If requested lang/country info in
	a Unicode encoding different than UTF-16BE, the function
	`pdf_text_get_unicode' will fail. PDF_TEXT_UNICODE_WITH_BOM option
	is also allowed in UTF-8.

	* doc/gnupdf-tsd.texi: Test ID `pdf_text_filter_010' was duplicated.

2008-04-08  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-proplist.c: New file.

	* src/base/pdf-text-ucd-proplist.h: New file.

	* src/Makefile.am (TEXT_MODULE_SOURCES): Added compilation of new
	`pdf-text-ucd-proplist.c' and `pdf-text-ucd-proplist.h'.

	* utils/README: Removed information about pdf-text-generate-ucd, as it
	is now in the new build-aux directory.

	* build-aux/pdf-text-generate-ucd.c: Added generation of contents in
	`pdf-text-ucd-proplist.c' and `pdf-text-ucd-proplist.h'.

2008-04-07  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Time Related Data Types): Attribute `sign'
	removed from the `pdf_time_cal_span_s' structure.

2008-04-06  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/unit/base/list/pdf-list-iterator-next.c (START_TEST):
	Cast the second argument of `pdf_list_iterator_next' to (void**).

	* Makefile.am (SUBDIRS): Descend into `build-aux/Makefile'.

	* configure.ac: Output `build-aux/Makefile'.

	* build-aux/pdf-text-generate-ucd.c: Moved from `util/'.

	* build-aux/README: New file.

	* build-aux/Makefile.am: New file.

2008-04-03  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/unit/base/text/pdf-text-get-unicode.c (START_TEST):
	Initialize counter variable 'i' to 0 before the loop (in several
	tests).

2008-04-03  Jose E. Marchesi  <jco@terma.com>

	* Clean the ChangeLog file.

2008-03-27  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.c (pdf_text_transform_he_to_unicode_encoding): Use
	`PDF_TEXT_BIG_ENDIAN' from`config.h' to check host endianness.

	* src/base/pdf-text-host-encoding.c (pdf_text_host_encoding_is_available):
	Use `PDF_TEXT_BIG_ENDIAN' from`config.h' to check host endianness.
	(pdf_text_utf32he_to_host): Use `PDF_TEXT_BIG_ENDIAN' from`config.h'
	to check host endianness.
	(pdf_text_host_to_utf32he): Use `PDF_TEXT_BIG_ENDIAN' from`config.h'
	to check host endianness.

	* src/base/pdf-text-encoding.h (pdf_text_utf32he_to_utf16le): Function
	changed to macro.
	(pdf_text_utf32he_to_utf16be): Function changed to macro.
	(pdf_text_utf16le_to_utf32he): Function changed to macro.
	(pdf_text_utf16be_to_utf32he): Function changed to macro.
	(pdf_text_utf32be_to_utf32he): Function changed to macro.
	(pdf_text_utf32le_to_utf32he): Function changed to macro.
	(pdf_text_utf32he_to_utf32be): Function changed to macro.
	(pdf_text_utf32he_to_utf32le): Function changed to macro.
	(pdf_text_utf32he_to_utf32he): Function added.
	(pdf_text_utf16he_to_utf32he): Function added.
	(pdf_text_utf32he_to_utf16he): Function added.

	* src/base/pdf-text-encoding.c (pdf_text_check_unicode_bom): Use
	`AC_C_BIGENDIAN' macro.
	(pdf_text_utf32he_to_utf16le): Function removed.
	(pdf_text_utf32he_to_utf16be): Function removed.
	(pdf_text_utf16le_to_utf32he): Function removed.
	(pdf_text_utf16be_to_utf32he): Function removed.
	(pdf_text_utf32be_to_utf32he): Function removed.
	(pdf_text_utf32le_to_utf32he): Function removed.
	(pdf_text_utf32he_to_utf32be): Function removed.
	(pdf_text_utf32he_to_utf32le): Function removed.
	(pdf_text_utf32he_to_utf32he): Function not static.
	(pdf_text_utf16he_to_utf32he): Function not static.
	(pdf_text_utf32he_to_utf16he): Function not static.

	* src/base/pdf-text-context.h (pdf_text_context_big_endian_host): Function
	removed.

	* src/base/pdf-text-context.c (pdf_text_context_big_endian_host): Function
	removed.
	(pdf_text_detect_host_endianness): Use `PDF_TEXT_BIG_ENDIAN' from
	`config.h' to set the text context endianness.

	* configure.ac: Use `AC_C_BIGENDIAN' macro to check for system
	endianness and create `PDF_TEXT_BIG_ENDIAN' definition in `config.h'.

2008-03-26  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-case.c (pdf_text_ucd_special_case_conditions):
	Function simplified to avoid a high cyclomatic complexity.

2008-03-26  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.c (pdf_text_get_unicode): Create header for unicode
	strings in a different function, to avoid a high cyclomatic complexity.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text-ucd-wordbreak.c (pdf_text_ucd_wb_detect_next): Check
	each word break rule in a different function, to avoid a high cyclomatic
	complexity.

2008-03-25  gerel  <gerel@gnu.org>

	* src/base/pdf-list.h: added missing range check on
	pdf_iterator_from_to().

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.c (pdf_text_concat): No need to check for pointers
	being not NULL, as lang/country codes are not dynamically allocated.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* torture/unit/base/text/tsuite-text.c: New file.

	* torture/unit/base/text/pdf-text-test-data.c: New file.

	* torture/unit/base/text/pdf-text-test-common.h: New file.

	* torture/unit/base/text/pdf-text-test-common.c: New file.

	* torture/unit/base/text/pdf-text-set-unicode.c: New file.

	* torture/unit/base/text/pdf-text-set-pdfdocenc.c: New file.

	* torture/unit/base/text/pdf-text-set-language.c: New file.

	* torture/unit/base/text/pdf-text-set-host.c: New file.

	* torture/unit/base/text/pdf-text-set-country.c: New file.

	* torture/unit/base/text/pdf-text-replace.c: New file.

	* torture/unit/base/text/pdf-text-replace-ascii.c: New file.

	* torture/unit/base/text/pdf-text-new-from-unicode.c: New file.

	* torture/unit/base/text/pdf-text-new-from-u32.c: New file.

	* torture/unit/base/text/pdf-text-new-from-pdf-string.c: New file.

	* torture/unit/base/text/pdf-text-new-from-host.c: New file.

	* torture/unit/base/text/pdf-text-new-destroy.c: New file.

	* torture/unit/base/text/pdf-text-init.c: New file.

	* torture/unit/base/text/pdf-text-get-unicode.c: New file.

	* torture/unit/base/text/pdf-text-get-pdfdocenc.c: New file.

	* torture/unit/base/text/pdf-text-get-language.c: New file.

	* torture/unit/base/text/pdf-text-get-host.c: New file.

	* torture/unit/base/text/pdf-text-get-host-encoding.c: New file.

	* torture/unit/base/text/pdf-text-get-hex.c: New file.

	* torture/unit/base/text/pdf-text-get-country.c: New file.

	* torture/unit/base/text/pdf-text-get-best-encoding.c: New file.

	* torture/unit/base/text/pdf-text-empty-p.c: New file.

	* torture/unit/base/text/pdf-text-dup.c: New file.

	* torture/unit/base/text/pdf-text-concat.c: New file.

	* torture/unit/base/text/pdf-text-check-host-encoding.c: New file.

	* torture/unit/runtests.c: Added new test suite for the text module.

	* torture/unit/Makefile.am: Added compilation of text module tests.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* utils/pdf-text-generate-ucd.c: New file. Unicode Character Database 
	source generator.

	* utils/Makefile.am: Added compilation of `pdf-text-generate-ucd'.

	* utils/README: Added description of `pdf-text-generate-ucd'.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* src/base/pdf-text.h: New file.

	* src/base/pdf-text.c: New file.

	* src/base/pdf-text-context.h: New file.

	* src/base/pdf-text-context.c: New file.

	* src/base/pdf-text-encoding.h: New file.

	* src/base/pdf-text-encoding.c: New file.

	* src/base/pdf-text-host-encoding.h: New file.

	* src/base/pdf-text-host-encoding.c: New file.

	* src/base/pdf-text-filter.h: New file.

	* src/base/pdf-text-filter.c: New file.

	* src/base/pdf-text-ucd.h: New file.

	* src/base/pdf-text-ucd-wordbreak.h: New file.

	* src/base/pdf-text-ucd-wordbreak.c: New file.

	* src/base/pdf-text-ucd-gencat.h: New file.

	* src/base/pdf-text-ucd-gencat.c: New file.

	* src/base/pdf-text-ucd-combclass.h: New file.

	* src/base/pdf-text-ucd-combclass.c: New file.

	* src/base/pdf-text-ucd-case.h: New file.

	* src/base/pdf-text-ucd-case.c: New file.

	* configure.ac: Check for external GNU iconv library.

	* src/Makefile.am: Included compilation of text module, and modified
	public header creation to include `pdf-text.h'.

	* src/base/pdf-base.h: Included `pdf-text.h' header.

	* src/base/pdf-error.c: Included `PDF_EINVAL' error type.

	* src/base/pdf-types.h: Included 16-bit type definitions and others.

2008-03-25  Aleksander Morgado Juez  <aleksander@es.gnu.org>

	* doc/gnupdf-tsd.texi: Updated text module tests implementation.

	* doc/gnupdf.texi: Updated definition of `pdf_text_destroy'.

2008-03-24  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Output `prmgt/docfuncs' and `prmgt/tsdfuncs'.

	* prmgt/tsdfuncs.in: New file.

	* prmgt/docfuncs.in: New file.

2008-03-24  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* lib/wchar_.h: Imported from gnulib.

	* lib/stdint_.h: Imported from gnulib.

	* m4/wchar.m4: Imported from gnulib.

	* m4/ulonglong.m4: Imported from gnulib.

	* m4/stdint.m4: Imported from gnulib.

	* m4/longlong.m4: Imported from gnulib.

2008-03-17  gerel  <gerel@gnu.org>

	* torture/unit/base/list/pdf-list-add-first.c: added missing tcase.

	* doc/gnupdf-tsd.texi: added List module unit tests.

2008-03-17  Gerardo E. Gidoni <gerel@gnu.org>

	* src/base/pdf-stm.c: Adapt code to the new list API.

	* src/base/pdf-list.h: Adapt code to the new API defined in
	`gnupdf.texi'.

	* doc/gnupdf.texi (Creating and Destroying Lists): New prototype
	for `pdf_list_create'.

2008-03-15  Jose E. Marchesi  <jemarch@gnu.org>

	* README (specs): ISO 32000 added to the list of PDF
	specifications to be supported by the library.

	* src/base/pdf-list.c: New inlined version.

	* src/base/pdf-list.h: New inlined version.

2008-03-14  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (pdf.h): Get the text of the `header-autogen'
	file to be used as the header of `pdf.h'.

	* src/header-autogen: New file.

2008-03-13  Aleksander Morgado  <aleksander@es.gnu.org>

	* src/Makefile.am: Include standard file header, GPL license header and
	definition of PDF_H in the generation of the public header

2008-03-11  gerel  <gerel@gnu.org>

	* src/base/pdf-list.[ch]: cleaned the API so pdf.h doesn't
	depend on gl_list.

2008-03-10  Aleksander Morgado  <aleksander@es.gnu.org>

	* doc/gnupdf.texi: Small changes in the Encoded Text module API.

	* doc/gnupdf-tsd.texi (Text Module): New section. First list of unit tests
	for the Encoded Text module.

2008-03-09  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-stm.c (pdf_stm_apply_filters): Check for PDF_OK
	when calling `pdf_list_iterator_next'.

2008-03-07  gerel  <gerel@gnu.org>

	* src/base/pdf-list.[ch]: added first implementation.
	* src/base/pdf-stm.[ch]: adapted to use the List module.
	* src/object/pdf-obj.[ch]: Idem.
	* src/base/pdf-types.h: added pdf_bool_t.
	* src/Makefile.am: added the List module.

2008-03-06  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Move `gl_EARLY' up to the beginning of the file in
	order to avoid the `AC_USE_SYSTEM_EXTENSIONS' warnings.

2008-03-05  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* src/base/pdf-stm-mem.h: Use `pdf_size_t' instead of `size_t'.

	* src/base/pdf-stm-mem.c: Idem.

	* src/base/pdf-stm.h: Idem.

	* src/base/pdf-stm-file.c: Idem.

	* src/base/pdf-stm.c: Idem.

	* src/base/pdf-alloc.c: Idem.

	* src/base/pdf-stm-f-rl.c: Use `pdf_realloc' instead of
	`xrealloc'.

	* src/base/pdf-stm-f-lzw.c: Idem.

	* src/base/pdf-stm-f-flate.c: Idem.

	* src/base/pdf-stm-f-ahex.c: Idem.

	* src/base/pdf-stm-f-a85.c (pdf_stm_f_a85_decode): Idem.

	* src/Makefile.am (PUBLIC_HDRS): Public contents in `pdf-types.h'
	should be extracted before the public contents of `pdf-alloc.h'.

	* src/base/pdf-alloc.h: Some included header files moved to
	`pdf-alloc.c'.

	* src/base/pdf-types.h: Define `pdf_size_t'

2008-03-02  gerel  <gerel@gnu.org>

	* doc/gnupdf.texi: small error management fix.

2008-02-29  gerel  <gerel@gnu.org>

	* configure.ac: added debug mode options.

2008-02-28  gerel  <gerel@gnu.org>

	* src/base/pdf-error.h: PDF_DEBUG_* fix (##__VA_ARGS__)

2008-02-27  gerel  <gerel@gnu.org>

	* src/base/pdf-error.h: fixed PDF_DEBUG_* empty macros

2008-02-27  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-error.h: Include stdio.h

	* src/base/pdf-base.h: Include pdf-error.h

	* src/base/pdf-types.h: Remove PDF_OK and PDF_ERROR. These are now
	implemented in pdf-error.[ch]

2008-02-24  gerel  <gerel@gnu.org>

	* src/base/pdf-error.[ch] (Error management): added first implementation.

2008-02-24  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf-tsd.texi: New file.

2008-02-23  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/unit/Makefile.am (clean-local): Remove `ut.log' upon
	`make clean'.

	* torture/unit/runtests.c (main): Dump a test execution log to
	`ut.log'.

	* doc/Makefile.am (noinst_TEXINFOS): New primary for
	gnupdf-tsd.texi.

	* doc/gnupdf-tsd.texi: New file.

2008-02-22  Gerardo E. Gidoni <gerel@gnu.org>

	* doc/gnupdf.texi (Error management): Initial API definition.

2008-02-22  Jose E. Marchesi  <jemarch@gnu.org>

	* src/base/pdf-types.h: Remove obsolete contents.

	* src/base/pdf-base.h: Include pdf-alloc headers.

	* src/base/pdf-base.c: Unused headers removed.

	* doc/gnupdf.texi (Memory Allocation): Use `void*' as the pointer
	types.

	* src/base/pdf-alloc.c (pdf_alloc): New function.
	(pdf_dealloc): New function.
	(pdf_realloc): New function.

	* src/base/pdf-alloc.h: New file.

	* src/base/pdf-alloc.c: New file.

2008-02-21  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/Makefile.am: Do not generate menus in wiki output.

	* doc/gnupdf-manual-wiki.init (mediawiki_preformatted): Do not
	emit preformatted code for navigation menus.
	Use the `Template:Note' mediawiki template to advertise that the
	page is automatically generated.

	* doc/Makefile.am: Do not split wiki output.

	* prmgt/pmccabe2html.in: Copyright notice of the generated html
	page updated.

	* prmgt/Makefile.am (cyclo.html): Use sources from `src/base'.

	* src/Makefile.am: Do not remove `src/extract-public-hdr' upon
	`make clean'.

	* prmgt/Makefile.am: Enable the building of project management
	resources even without having a working taskjuggler program.

	* configure.ac: Use an automake conditional `TASKJUGGLER'.

	* prmgt/Makefile.am (clean-local): Do not remove
	autoconf-generated `pmccabe2html' upon `make clean'.

2008-02-20  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* doc/gnupdf.texi (Memory Allocation): `pdf_alloc' API changed in
	order to return NULL if an out of memory condition is met.

2008-02-16  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Print out an explanation about the selected
	compilation level while reporting configuration results.

2008-02-11  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am (clean-local): Remove `temporal-test-file'
	upon `make clean'.

	* prmgt/Makefile.am (clean-local): Remove `pmccabe2html' upon
	`make clean'.

	* src/Makefile.am (clean-local): Remove `extract-public-hdr' upon
	`make clean'.

	* Update copyright notices.
	* Sources reorganization.

2008-01-30  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Big Numbers): New section.

2008-01-28  Aleksander Morgado  <aleksander@es.gnu.org>

	* doc/gnupdf.texi (Initializing Text Module): New section.
	(Managing Host Encodings): New section
	(Text Data Types): New `pdf_text_unicode_options_e' type.
	Removed specific data types for unicode encodings.
	Updated information on `pdf_text_unicode_encoding_e',
	`pdf_text_t', `pdf_text_host_encoding_t' data types.
	(Creating and Destroying Text): Added `pdf_text_destroy' function.
	Updated function prototypes and information.
	(Managing Text Properties): Updated function prototypes and
	information.
	(Managing Text Contents): Updated function prototypes and
	information.

2008-01-25  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (List Data Types): New section.
	(Creating and Destroying Lists): New section.
	(Managing List Properties): New section.
	(Searching for List Elements): New section.
	(Setting and Getting List Elements): New section.
	(Adding and Removing List Elements): New section.
	(Working with Iterators): New section.

2008-01-20  Jose E. Marchesi  <jemarch@gnu.org>

	* src/*.[ch]: Author field removed from header.

	* doc/gnupdf.texi (Boolean Types): New section.
	(Status Types): New section.
	(Numeric Types): New section.
	(Creating and Destroying Text): Removed the reference to leading
	zeroes in the arguments to `pdf_text_new_from_u32'.
	Brace @deftp arguments with spaces inside it.

2008-01-13  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi: Returns sections fixed.
	(Creating and Destroying Hash Tables): New section.

2008-01-12  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi: Use @var for all actual parameters in function
	definitions.

2008-01-11  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Managing Text Properties): New section.
	(Managing Text Contents): New section.
	(Comparing Text Variables): New section.

2008-01-08  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Time Management): minor fixes.

2008-01-06  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/libgnupdf.tjp: Project plan updated.

	* prmgt/pmccabe2html.in: HTML prolog and footer changed.

2007-12-27  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Encoded Text): New section.
	(Text Data Types): New section.
	(Creating and Destroying Text): New section.

2007-12-22  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/libgnupdf.tjp: New version.

2007-12-21  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Time Span Creation and Destruction): New section.
	(Managing Time Span Values): New section.
	(Time Span Comparison): New section.
	(Calendar Spans Management): New section.

2007-12-20  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Check for `makeinfo'.
	Fix the checking of programs where they are missing.

	* torture/Makefile.am (testall.c): Include all the files specified
	in the TEST_FILES variable in the `generate_testall' call.

	* doc/gnupdf.texi (Time Related Data Types): New section.
	(Time Management): New section.

2007-12-17  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Floating Point Types): New section.
	(Point Manipulation Functions): New section.
	(Quadrilateral Manipulation Functions): New section.
	(Rectangle Manipulation Functions): New section.
	(Matrix Manipulation Functions): New section.
	(Interpolation Functions): New section.

2007-12-07  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/README: Typo fixed.

2007-12-06  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/test_stm_module.c: New file.

	* torture/generate_testall: New file.

2007-11-29  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi (Memory Allocation): New section.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_xref.[ch]' removed.

2007-11-26  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf.texi: New function `pdf_realloc'.

2007-11-26  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* doc/gnupdf.texi (Top): 'Basic Layer' -> 'Base Layer'.

2007-11-22  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* doc/Makefile.am (wiki): New target.
	(gnupdf.wiki): New target.
	(gnupdf-utils.wiki): New target.

	* doc/gnupdf-manual-wiki.init: New file.

2007-11-20  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* configure.ac: Check for awk and set the output variable
	`PATH_TO_AWK'.

	* prmgt/pmccabe2html.in: Renamed from `pmccabe2html'.

2007-11-19  Jose E. Marchesi  <jemarch@gnu.org>

	* prmgt/Makefile.am: Reorganization.
	Add rules for new target `cyclo.html'.

	* prmgt/pertfdp.xsl: New file.

	* prmgt/pertdot.xsl: New file.

	* prmgt/pmccabe2html: New file.

	* prmgt/pmccabe.css: New file.

2007-11-18  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Check for graphviz's `dot' and `fdp' programs.

2007-11-17  Jose E. Marchesi  <jemarch@gnu.org>

	* Makefile.am (SUBDIRS): Added `prmgt'.

	* prmgt/Makefile.am: New file.

	* configure.ac: Check for the `taskjuggler' program.

2007-11-16  Jose E. Marchesi  <jemarch@gnu.org>

	* AUTHORS: Karl Berry added.

	* configure.ac: Check for the `texi2html' program.

	* doc/Makefile.am: Use texi2html if available for the html
	target.

	* doc/manuals.css: New file.

	* doc/gnupdf-manual.init: New file.

2007-11-08  Jose E. Marchesi  <jemarch@gnu.org>

	* bootstrap (cmd): Make autoreconf to install missing files.

2007-11-07  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am: Use the `CHECK' conditional to determine if
	we should compile and run the test suite.

	* configure.ac: `PKG_CHECK_MODULES' substitued with the checking
	of the library. Define an Automake conditional `CHECK'.

2007-11-07  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* configure.ac: Use `PKG_CHECK_MODULES' instead of `AM_CHECK' for
	the `check' package.

2007-11-06  Mathias Kolehmainen  <mathiask@computer.org>

	* torture/Makefile.am: Adapt to use check.

	* torture/test-base.c: Idem.

	* torture/test-date.c: Idem.

	* torture/test-libinit.c: Idem.

	* torture/test-obj_array.c: Idem.

	* torture/test-obj_createdestroy.c: Idem.

	* torture/test-obj_dict.c: Idem.

	* test-obj_dupequality.c: Idem.

	* test-rectangle: Idem.

	* test-stm_openclose.c: Idem.

	* torture/testall.c: New file.

2007-11-06  Jose E. Marchesi  <jemarch@gnu.org>

	* AUTHORS: Added Mathias Kolehmainen.

2007-11-06  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* src/pdf.c: Add `program_name' global variable in order to
	compile in non-glibc systems.

2007-11-01  Jose E. Marchesi  <jemarch@gnu.org>

	* README.cvs: New file.

2007-10-31  Jose E. Marchesi  <jemarch@gnu.org>

	* doc/gnupdf_util.texi: New file.

	* doc/Makefile.am (man_MANS): Added `pdf_filter.1'.

	* utils/pdf_filter.c: --version option now works.

	* bootstrap (cmd): Use autoreconf instead of the explicit chain.

	* src/pdf_stm_mem.c: Include `malloc.h' only when available.

	* src/pdf_stm_file.c: Idem.

	* src/pdf_stm_f_rl.c: Idem.

	* src/pdf_stm_f_pred.c: Idem.

	* src/pdf_stm_f_null.c: Idem.

	* src/pdf_stm_f_lzw.c: Idem.

	* src/pdf_stm_f_flate.c: Idem.

	* src/pdf_stm_f_fax.c: Idem.

	* src/pdf_stm_f_ahex.c: Idem.

	* src/pdf_stm_f_a85.c: Idem.

	* src/pdf_stm.c: Idem.

	* src/pdf_rectangle.c: Idem.

	* src/pdf_obj.c: Idem.

	* src/pdf_function.c: Idem.

	* src/pdf_date.c: Idem.

	* src/pdf_base.c: Idem.

	* configure.ac: Check for `malloc.h'.

	* `malloc' and `getline' modules imported from gnulib.

2007-10-23  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_mem.c (pdf_stm_mem_readpeek_char): Added missing
	negation in expression.

2007-10-23  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* utils/pdf_filter.h: New copyright holder: FSF.

	* utils/pdf_filter.c: Idem.

	* utils/Makefile.am: Idem.

	* torture/test-stm_openclose.c: Idem.

	* torture/test-rectangle.c: Idem.

	* torture/test-obj_dupequality.c: Idem.

	* torture/test-obj_dict.c: Idem.

	* torture/test-obj_createdestroy.c: Idem.

	* torture/test-obj_array.c: Idem.

	* torture/test-libinit.c: Idem.

	* torture/test-date.c: Idem.

	* torture/test-base.c: Idem.

	* torture/Makefile.am: Idem.

	* src/pdf_xref.h: Idem.

	* src/pdf_xref.c: Idem.

	* src/pdf_stm_mem.h: Idem.

	* src/pdf_stm_mem.c: Idem.

	* src/pdf_stm.h: Idem.

	* src/pdf_stm_f_rl.h: Idem.

	* src/pdf_stm_f_rl.c: Idem.

	* src/pdf_stm_f_pred.h: Idem.

	* src/pdf_stm_f_pred.c: Idem.

	* src/pdf_stm_f_null.h: Idem.

	* src/pdf_stm_f_null.c: Idem.

	* src/pdf_stm_f_lzw.h: Idem.

	* src/pdf_stm_f_lzw.c: Idem.

	* src/pdf_stm_file.h: Idem.

	* src/pdf_stm_file.c: Idem.

	* src/pdf_stm_f_flate.h: Idem.

	* src/pdf_stm_f_flate.c: Idem.

	* src/pdf_stm_f_fax.h: Idem.

	* src/pdf_stm_f_fax.c: Idem.

	* src/pdf_stm_f_ahex.h: Idem.

	* src/pdf_stm_f_ahex.c: Idem.

	* src/pdf_stm_f_a85.h: Idem.

	* src/pdf_stm_f_a85.c: Idem.

	* src/pdf_stm.c: Idem.

	* src/pdf_rectangle.h: Idem.

	* src/pdf_rectangle.c: Idem.

	* src/pdf_obj.h: Idem.

	* src/pdf_obj.c: Idem.

	* src/pdf.h: Idem.

	* src/pdf_function.h: Idem.

	* src/pdf_function.c: Idem.

	* src/pdf_date.h: Idem.

	* src/pdf_date.c: Idem.

	* src/pdf.c: Idem.

	* src/pdf_base.h: Idem.

	* src/pdf_base.c: Idem.

	* src/Makefile.am: Idem.

	* Makefile.am: Idem.

	* doc/gnupdf.texi: Idem.

	* doc/Makefile.am: Idem.

	* configure.ac: Idem.

2007-10-15  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* src/pdf_obj.c (pdf_array_equal_p): Set `equal_p' to `PDF_FALSE'
	in element inequality.

2007-09-20  Jose E. Marchesi  <jemarch@gnu.org>

	* AUTHORS: New format.

2007-09-18  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am (noinst_PROGRAMS): Added
	`test-stm_readwrite'.
	(TESTS): Added `test-stm_readwrite'.

	* torture/test-stm_readwrite.c (main): New file.

2007-09-15  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm.c (pdf_stm_read_char): New function.
	(pdf_stm_peek_char): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added `pdf_lexer.h' and
	`pdf_lexer.c'.

	* src/pdf_lexer.c: New file.

	* src/pdf_lexer.h: New file.

	* src/pdf.c (pdf_alloc_names): Duplicated allocation fixed.

	* src/pdf_obj.c (pdf_create_dict_entry): Insert a dictionary entry
	in the entries list, not just the value.

	* torture/Makefile.am (noinst_PROGRAMS): Added `test-obj_dict'.
	(TESTS): Added `test-obj_dict'.

	* torture/test-obj_dict.c: New file.

2007-09-14  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_pred.c: Update copyright and author notice.

	* src/pdf_stm_f_pred.h: Update copyright and author notice.

	* src/pdf_stm_f_lzw.c: Update copyright and author notice.

	* src/pdf_stm_f_lzw.h: Update copyright and author notice.

	* torture/Makefile.am (TESTS): Added `test-libinit'
	(noinst_PROGRAMS): Added `test-libinit'

	* torture/test-libinit.c: New file.

	* src/pdf.c (pdf_dealloc_names): New function.
	(pdf_alloc_names): New function.
	(pdf_finish): New function.
	(pdf_init): New function.

	* src/pdf.h (struct pdf_globals_s): New globals data type to store
	library global information.

	* src/pdf_base.h: Added macros for PDF names preallocation.

2007-09-12  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_rectangle.c (pdf_create_rectangle): Avoid to call
	`pdf_rectangle_set_ll'.

2007-09-11  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_function.h' and
	`pdf_function.c' added.

	* src/pdf_function.h: New file.

	* src/pdf_function.c: New file.

	* src/pdf_stm_file.c (pdf_stm_file_size): Use NO_POS.

	* src/pdf_obj.c (pdf_create_stream): New function.
	(pdf_get_stream_stm): New function.
	(pdf_get_stream_data): New function.
	(pdf_stream_equal_p): New function.
	(pdf_stream_dup): New function.

	* configure.ac: Check for `-lm'.

	* src/pdf_base.c (pdf_interp_lineal): New function.
	(pdf_interp_exp_coef_m): New function.
	(pdf_interp_exp_coef_k): New function.
	(pdf_interp_exp): New function.

2007-09-09  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am (noinst_PROGRAMS): `test-rectangle' added.
	(TESTS): `test-rectangle' added.

	* torture/test-rectangle.c: New file.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_rectangle.c' and
	`pdf_rectangle.h' added.

	* src/pdf_base.c (pdf_create_point): New function.
	(pdf_destroy_point): New function.

	* src/pdf_base.h: New `pdf_point_t' type.

	* src/pdf_rectangle.c: New file.

	* src/pdf_rectangle.h: New file.

	* torture/test-date.c (main): Initialize `success' to `PDF_TRUE'.

2007-09-08  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/Makefile.am (TESTS): Added `test-date'.
	(noinst_PROGRAMS): Added `test-date'.

	* src/pdf_date.c (pdf_date_ut_offset_hour): New function.
	(pdf_date_ut_offset_minute): New function.

	* torture/test-base.c: New file.

	* src/pdf_date.c (pdf_date_parse): New function.

	* src/pdf_base.c (pdf_str2double): New function.
	(pdf_str2int): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added `pdf_base.c' and
	`pdf_base.h'.

	* src/pdf_base.c (pdf_str2long): New function.

	* src/pdf_base.h: Include `config.h' first.
	String utilities prototypes added.

	* AUTHORS (Contributors): Added raskolnikov@es.gnu.org

	* src/pdf_date.h: Added an explanation about the date objects.

	* src/pdf_obj.h: Fixed a typo in comment.

2007-09-07  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_date.c (pdf_date_second): `pdf_date_get_FOO'
	functions shortened to `pdf_date_FOO'.

2007-09-06  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_date.c (pdf_date_destroy): New function.
	(pdf_date_get_year): New function.
	(pdf_date_set_year): New function.
	(pdf_date_get_month): New function.
	(pdf_date_set_month): New function.
	(pdf_date_get_day): New function.
	(pdf_date_set_day): New function.
	(pdf_date_get_hour): New function.
	(pdf_date_set_hour): New function.
	(pdf_date_get_minute): New function.
	(pdf_date_set_minute): New function.
	(pdf_date_get_second): New function.
	(pdf_date_set_second): New function.

2007-09-05  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_date.h' and
	`pdf_date.c' added.

	* src/pdf_date.c (pdf_date_alloc): New function.
	(pdf_date_dealloc): New function.
	(pdf_date_new_value): New function.

	* src/pdf_date.h: New file.

	* utils/pdf_filter.c: Fix incorrect help entry for the predictor
	decoder option.

2007-09-05  Juan Pedro Bolívar Puente <raskolnikov@es.gnu.org>

	* src/pdf_stm_f_lzw.c: Fully implemented the LZW filter for both
	encoding and decoding.

	* src/pdf_stm_f_pred.c: Solved a bug in the order in which bytes
	where written when packing tiff pixels.

	* utils/pdf_filter.c: Now lzw and predictor filters can get their
	arguments from the command line.

2007-08-15  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm.c (pdf_stm_install_lzwenc_filter): New function.
	(pdf_stm_install_lzwdec_filter): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added lzw filter sources.

	* src/pdf_stm_f_lzw.c: New file.
	(pdf_stm_f_lzw_init): New function.
	(pdf_stm_f_lzw_apply): New function.
	(pdf_stm_f_lzw_dealloc): New function.
	(pdf_stm_f_lzw_encode): New function.
	(pdf_stm_f_lzw_decode): New function.

	* src/pdf_stm_f_lzw.h: New file.

2007-08-05  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_fax.c (pdf_stm_f_fax_dealloc): New function.

	* src/pdf_stm.c (pdf_stm_install_faxenc_filter): New function.
	(pdf_stm_install_faxdec_filter): New function.

	* src/pdf_stm.h: New prototype for the fax filter.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added fax filter source
	files.

	* src/pdf_stm_f_fax.c: New file.
	(pdf_stm_f_fax_init): New function.
	(pdf_stm_f_fax_apply): New function.
	(pdf_stm_f_fax_encode): New function.
	(pdf_stm_f_fax_decode): New function.

	* src/pdf_stm_f_fax.h: New file.

2007-07-31  Jose E. Marchesi  <jemarch@gnu.org>

	* utils/pdf_filter.c (GNU_longOptions): Predictor command line
	arguments.

2007-07-28  Juan Pedro Bolívar Puente <raskolnikov@es.gnu.org>

	* src/pdf_stm_f_pred.c: PNG and TIFF predictor filters
	implemented.

	* src/pdf_stm_f_pred.h: Changed filter types, added filter
	modes (encoding or decoding) and such things needed by the filter
	implementation.

	* util/pdf_filter.c: Added an entry with hardcoded params to test
	the predictor filter.

2007-07-22  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_ahex.c: Missing headers added.
	(pdf_stm_f_ahex_white_p): Conform to GCS.

	* src/pdf_stm_f_rl.c (pdf_stm_f_rl_encode): Fix input pointer
	position in the loop.
	(pdf_stm_f_rl_encode): Fix the upper bound of output size.

2007-07-15  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_rl.h' and
	`pdf_stm_f_rl.c' added.

	* src/pdf_stm.c (pdf_stm_install_rldec_filter): New function.
	(pdf_stm_install_rlenc_filter): New function.

	* src/pdf_stm_f_rl.c: New file.

	* src/pdf_stm_f_rl.h: New file.

	* src/pdf_stm_f_a85.c: New file.

	* src/pdf_stm_f_a85.h: New file.

	* src/pdf_stm_f_flate.c: Renamed from src/pdf_stm_f_fdec.c

	* src/pdf_stm_f_flate.h: Renamed from src/pdf_stm_f_fdec.h

	* src/pdf_stm.c (pdf_stm_install_flateenc_filter): New function.

2007-07-14  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_ahex.c (pdf_stm_f_ahex_encode): Fix indirection.

2007-07-13  Jose E. Marchesi  <jemarch@gnu.org>

	* utils/pdf_filter.c (main): Added support for ascii hex decoder.

	* src/pdf_stm.c (pdf_stm_install_ahexdec_filter): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_ahdec.h' and
	`pdf_stm_f_ahdec.c' added.

	* src/pdf_stm_f_ahdec.c (pdf_stm_f_ahdec_apply): New file.

	* src/pdf_stm_f_ahdec.h: New file.

	* src/pdf_stm_file.c (pdf_stm_file_peek): Interface changed.

	* src/pdf_stm_mem.c: Interface changed.

2007-07-12  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm.h: Changed interface.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_pred.h' and
	`pdf_stm_f_pred.c' added.

	* src/pdf_stm_f_pred.c (pdf_stm_f_pred_init): New function.
	(pdf_stm_f_pred_apply): New function.
	(pdf_stm_f_pred_dealloc): New function.

	* src/pdf_stm_f_pred.h: New file.

2007-07-11  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf_stm_f_fdec.h (struct pdf_stm_f_fdec_conf_s):
	Configuration parameters added.
	(enum pdf_stm_f_fdec_pred): Added.

2007-07-11  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* utils/pdf_filter.c (main): Use the fdec filter conditionally.

	* src/Makefile.am (libgnupdf_la_SOURCES): Add fdec sources
	conditionally.

	* src/pdf_stm.c: Make the fdec filter conditional.

	* m4/getopt.m4: Imported from gnulib.

2007-07-10  Jose E. Marchesi  <jemarch@gnu.org>

	* m4/zlib.m4 (ZLIB_HOME): Imported from the autoconf macro
	archive (by Loic Dachary).

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_fdec.h' and
	`pdf_stm_f_fdec.c' added.

	* src/pdf_stm.c (pdf_stm_install_fdec_filter): New function.
	Include `stm_stm_f_fdec.h'.

	* src/pdf_stm_f_fdec.c (pdf_stm_f_fdec_apply): New file.

	* src/pdf_stm_f_fdec.h: New file.

	* src/pdf_stm.c (pdf_create_mem_stm): Install the close hook.

	* src/pdf_stm_mem.c (pdf_stm_mem_init): Manage `resize_p'.
	(pdf_stm_mem_write): Manage `resize_p'.

	* utils/pdf_filter.c (main): Added dummy main function.

	* configure.ac: `utils' added.

	* Makefile.am (SUBDIRS): `utils' added.

	* utils/pdf_filter.h: New file.

	* utils/pdf_filter.c: New file.

	* utils/README: New file.

2007-07-10  Jose E. Marchesi  <jose.marchesi@deimos-space.com>

	* src/pdf_stm.c (pdf_stm_close): Fix argument.

2007-07-09  Jose E. Marchesi  <jemarch@gnu.org>

	* torture/test-stm_openclose.c (main): New file.

	* src/pdf_stm.c (pdf_create_mem_stm): New function.
	(pdf_stm_uninstall_filters): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_stm_f_null.c' and
	`pdf_stm_f_null.h' added.

	* src/pdf_stm_f_null.c (pdf_stm_f_null_init): New function.
	(pdf_stm_f_null_apply): New function.
	(pdf_stm_f_null_dealloc): New function.

	* src/pdf_stm.c (pdf_create_file_stm): New function.
	(pdf_stm_alloc): New function.
	(pdf_stm_dealloc): New function.
	(pdf_stm_install_filter): New function.
	(pdf_stm_filter_dealloc_list): New function.
	(pdf_stm_apply_filters): New function.

	* src/pdf_stm_f_null.c: New file.

	* src/pdf_stm_f_null.h: New file.

2007-07-08  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (AM_CFLAGS): `-Wall' added.
	(libgnupdf_la_SOURCES): Changed io to stream.

2007-07-07  Jose E. Marchesi  <jemarch@gnu.org>

	* src/Makefile.am (libgnupdf_la_SOURCES): Added `pdf_xref.h' and
	`pdf_xref.c'.

	* src/pdf_xref.c: New file.

	* src/pdf_xref.h: New file.

	* src/pdf_obj.c (pdf_get_bool): New function.
	(pdf_set_bool): New function.
	(pdf_get_int): New function.
	(pdf_set_real): New function.
	(pdf_get_real): New function.
	(pdf_set_int): New function.
	(pdf_get_string_size): New function.
	(pdf_get_string_data): New function.
	(pdf_get_name_size): New function.
	(pdf_get_name_data): New function.
	(pdf_get_array_size): New function.
	(pdf_get_dict_size): New function.
	(pdf_obj_equal_p): New function.
	(pdf_string_equal_p): New function.
	(pdf_string_equal_p): New function.
	(pdf_compare_obj_list_elt): Use `pdf_obj_equal_p'.
	(pdf_obj_dup): New function.
	(pdf_array_dup): New function.
	(pdf_dict_dup): New function.
	(pdf_remove_array_elt): New function.
	(pdf_get_array_elt): New function.
	(pdf_set_array_elt): New function.
	(pdf_add_array_elt): New function.
	(pdf_dict_entry_p): New function.
	(pdf_get_dict_entry): New function.
	(pdf_remove_dict_entry): New function.
	(pdf_create_dict_entry): New function.
	(pdf_append_array_elt): New function.

	* torture/Makefile.am: New testsuite, `test-obj_createdestroy'.

	* torture/test-obj_createdestroy.c: New file.

	* src/pdf_obj.c (pdf_create_dict): Disallow duplicates in
	dictionary.
	(pdf_destroy_obj): New function.

	* configure.ac: Added `doc/Makefile' to output files.

	* src/pdf_obj.c (pdf_create_null): New function.
	(pdf_alloc_obj): New function.
	(pdf_create_boolean): New function.
	(pdf_create_int): New function.
	(pdf_create_real): New function.
	(pdf_create_string): New function.
	(pdf_create_array): New function.
	(pdf_create_dict): New function.
	(pdf_create_indirect): New function.
	(pdf_dealloc_obj): New function.
	(pdf_list_dealloc_obj): New function.
	(pdf_alloc_dict_entry): New function.
	(pdf_dealloc_dict_entry): New function.
	(pdf_list_dealloc_dict_entry): New function.
	(pdf_dealloc_dict_entry_list_elm): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_obj.c' added.

	* src/pdf_obj.c: New file.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf_obj.h' added.

	* src/pdf_obj.h: New file.

	* torture/test-io_openclose.c (main): Added file size retrieving
	test.

2007-07-06  Jose E. Marchesi  <jemarch@gnu.org>

	* configure.ac: Check for `off_t'.
	Check for `fseeko' availability.

	* src/pdf_io.c (pdf_io_tell): New function.
	(pdf_io_write): New function.

	* src/pdf_base.h: New file.

	* src/pdf_io.c (pdf_io_close): New function.
	(pdf_io_seek_beg): New function.
	(pdf_io_seek_cur): New function.
	(pdf_io_seek_end): New function.

	* src/Makefile.am (libgnupdf_la_SOURCES): Added `pdf_io.c' and
	`pdf_io.h'.
	(AM_CPPFLAGS): Added the gnulib imported directory.

	* src/pdf_io.c (pdf_io_open_file): New function.

	* m4/xalloc.m4: Imported from gnulib.

	* m4/unistd_h.m4: Imported from gnulib.

	* m4/stdlib_h.m4: Imported from gnulib.

	* m4/onceonly_2_57.m4: Imported from gnulib.

	* m4/inline.m4: Imported from gnulib.

	* m4/include_next.m4: Imported from gnulib.

	* m4/gnulib-tool.m4: Imported from gnulib.

	* m4/gnulib-comp.m4: Imported from gnulib.

	* m4/gnulib-common.m4: Imported from gnulib.

	* m4/gnulib-cache.m4: Imported from gnulib.

	* m4/exitfail.m4: Imported from gnulib.

	* m4/error.m4: Imported from gnulib.

	* lib/xmalloc.c: Imported from gnulib.

	* lib/xalloc.h: Imported from gnulib.

	* lib/xalloc-die.c: Imported from gnulib.

	* lib/unistd_.h: Imported from gnulib.

	* lib/stdlib_.h: Imported from gnulib.

	* lib/Makefile.am: Imported from gnulib.

	* lib/gettext.h: Imported from gnulib.

	* lib/exitfail.h: Imported from gnulib.

	* lib/exitfail.c: Imported from gnulib.

	* lib/error.h: Imported from gnulib.

	* lib/error.c: Imported from gnulib.

	* Makefile.am (ACLOCAL_AMFLAGS): Mention "-I m4".
	(SUBDIRS): Added "lib" subdirectory.

	* configure.ac: New gnulib macros.

	* src/pdf_io.c: New file.

	* src/pdf_io.h: New file.

2007-07-05  Jose E. Marchesi  <jemarch@gnu.org>

	* src/pdf.c: New file.

	* src/pdf.h: End of file comment added.

	* src/Makefile.am (libgnupdf_la_SOURCES): `pdf.h' should be
	installed.

	* bootstrap: `libtoolize' added.

	* .cvsignore: New file.

	* src/Makefile.am (lib_LTLIBRARIES): add `lib_' prefix to
	LTLIBRARIES primary.

	* bootstrap: New file.

	* AUTHORS: New file.

	* NEWS: New file.

	* src/pdf.h: New file.

	* ChangeLog started.

